{
    "docs": [
        {
            "location": "/",
            "text": "mysql\u5b9e\u6218\u6280\u5de7\u548c\u4f18\u5316\n#\n\n\nSQL\u6280\u5de7\n#\n\n\n\u6b63\u786e\u4f7f\u7528join\u4ece\u53e5\n#\n\n\n\n\nSQL\u6807\u51c6\u4e2djoin\u7c7b\u578b\n\n\nInner Join\n\n\nLeft Outer Join\n\n\nRight Outer join\n\n\nFull join\n\n\nCross Join\n\n\n\n\n\u4e0ejoin\u76f8\u5173\u7684sql\u6280\u5de7\n#\n\n\n\n\n\u4f7f\u7528join\u66f4\u65b0\u8868\n\n\n\u4f7f\u7528join\u4f18\u5316\u5b50\u67e5\u8be2\n\n\n\u4f7f\u7528join\u4f18\u5316\u5b50\u805a\u5408\u5b50\u67e5\u8be2\n\n\n\u4f7f\u7528join\u5206\u7ec4\u9009\u62e9\u6570\u636e\u67e5\u8be2\n\n\n\n\n\u884c\u4e0e\u5217\u4e92\u8f6c\u7684SQL\u6280\u5de7\n#\n\n\n\n\n\u884c\u8f6c\u5217\n\n\n\u5355\u5217\u8f6c\u591a\u884c\n\n\n\u591a\u5217\u8f6c\u591a\u884c\n\n\n\n\n\u4e3b\u952e\u5220\u9664\u91cd\u590d\u6570\u636e\n#\n\n\n\n\n\u5220\u9664\u91cd\u590d\u6570\u636e\n\n\n\n\n\u5b50\u67e5\u8be2\u5b9e\u73b0\u591a\u5217\u8fc7\u6ee4\u7684sql\u6280\u5de7\n#\n\n\n\n\n\u5b50\u67e5\u8be2\u597d\u5904\n\n\n\u4f7f\u7528join\u5b9e\u73b0\u5b50\u67e5\u8be2\n\n\n\u5b50\u67e5\u8be2\u5b9e\u73b0\u591a\u5217\u8fc7\u6ee4\n\n\n\n\n\u540c\u4e00\u5c5e\u6027\u591a\u503c\u8fc7\u6ee4\n#\n\n\n\n\n\u4f7f\u7528join\u67e5\u8be2\n\n\n\n\n\u6027\u80fd\u4f18\u5316\n#\n\n\n\u5b58\u50a8\u5f15\u64ce\n#\n\n\n\n\nMyiSAM \u5b58\u50a8\u5f15\u64ce\n\n\ninnodb \u5b58\u50a8\u5f15\u64ce\n\n\n\n\n\u7d22\u5f15\u4f18\u5316\n#\n\n\n\n\nB-tree\u7d22\u5f15\n\n\nHash\u7d22\u5f15\n\n\n\u7d22\u5f15\u4f18\u53161\n\n\n\u7d22\u5f15\u4f18\u53162\n\n\n\n\nSQL\u67e5\u8be2\u4f18\u5316\n#\n\n\n\n\ncount\u548cmax\u51fd\u6570\u4f18\u5316\n\n\n\u5b50\u67e5\u8be2\u4f18\u5316\n\n\ngroup by\u4f18\u5316\n\n\nlimit\u4f18\u5316\n\n\n\n\n\u5206\u5e93\u5206\u8868\n#\n\n\n\n\n\u8868\u7684\u8303\u5f0f\u4f18\u5316\n\n\n\u8868\u7684\u53cd\u8303\u5f0f\u4f18\u5316\n\n\n\u8868\u7684\u5782\u76f4\u62c6\u5206\n\n\n\n\n\u6162\u67e5\u8be2\n#\n\n\n\n\n\u5f00\u542f\u6162\u67e5\u8be2\n\n\npt-query-digest\u5de5\u5177\u4f7f\u7528",
            "title": "\u9996\u9875"
        },
        {
            "location": "/#mysql",
            "text": "",
            "title": "mysql\u5b9e\u6218\u6280\u5de7\u548c\u4f18\u5316"
        },
        {
            "location": "/#sql",
            "text": "",
            "title": "SQL\u6280\u5de7"
        },
        {
            "location": "/#join",
            "text": "SQL\u6807\u51c6\u4e2djoin\u7c7b\u578b  Inner Join  Left Outer Join  Right Outer join  Full join  Cross Join",
            "title": "\u6b63\u786e\u4f7f\u7528join\u4ece\u53e5"
        },
        {
            "location": "/#joinsql",
            "text": "\u4f7f\u7528join\u66f4\u65b0\u8868  \u4f7f\u7528join\u4f18\u5316\u5b50\u67e5\u8be2  \u4f7f\u7528join\u4f18\u5316\u5b50\u805a\u5408\u5b50\u67e5\u8be2  \u4f7f\u7528join\u5206\u7ec4\u9009\u62e9\u6570\u636e\u67e5\u8be2",
            "title": "\u4e0ejoin\u76f8\u5173\u7684sql\u6280\u5de7"
        },
        {
            "location": "/#sql_1",
            "text": "\u884c\u8f6c\u5217  \u5355\u5217\u8f6c\u591a\u884c  \u591a\u5217\u8f6c\u591a\u884c",
            "title": "\u884c\u4e0e\u5217\u4e92\u8f6c\u7684SQL\u6280\u5de7"
        },
        {
            "location": "/#_1",
            "text": "\u5220\u9664\u91cd\u590d\u6570\u636e",
            "title": "\u4e3b\u952e\u5220\u9664\u91cd\u590d\u6570\u636e"
        },
        {
            "location": "/#sql_2",
            "text": "\u5b50\u67e5\u8be2\u597d\u5904  \u4f7f\u7528join\u5b9e\u73b0\u5b50\u67e5\u8be2  \u5b50\u67e5\u8be2\u5b9e\u73b0\u591a\u5217\u8fc7\u6ee4",
            "title": "\u5b50\u67e5\u8be2\u5b9e\u73b0\u591a\u5217\u8fc7\u6ee4\u7684sql\u6280\u5de7"
        },
        {
            "location": "/#_2",
            "text": "\u4f7f\u7528join\u67e5\u8be2",
            "title": "\u540c\u4e00\u5c5e\u6027\u591a\u503c\u8fc7\u6ee4"
        },
        {
            "location": "/#_3",
            "text": "",
            "title": "\u6027\u80fd\u4f18\u5316"
        },
        {
            "location": "/#_4",
            "text": "MyiSAM \u5b58\u50a8\u5f15\u64ce  innodb \u5b58\u50a8\u5f15\u64ce",
            "title": "\u5b58\u50a8\u5f15\u64ce"
        },
        {
            "location": "/#_5",
            "text": "B-tree\u7d22\u5f15  Hash\u7d22\u5f15  \u7d22\u5f15\u4f18\u53161  \u7d22\u5f15\u4f18\u53162",
            "title": "\u7d22\u5f15\u4f18\u5316"
        },
        {
            "location": "/#sql_3",
            "text": "count\u548cmax\u51fd\u6570\u4f18\u5316  \u5b50\u67e5\u8be2\u4f18\u5316  group by\u4f18\u5316  limit\u4f18\u5316",
            "title": "SQL\u67e5\u8be2\u4f18\u5316"
        },
        {
            "location": "/#_6",
            "text": "\u8868\u7684\u8303\u5f0f\u4f18\u5316  \u8868\u7684\u53cd\u8303\u5f0f\u4f18\u5316  \u8868\u7684\u5782\u76f4\u62c6\u5206",
            "title": "\u5206\u5e93\u5206\u8868"
        },
        {
            "location": "/#_7",
            "text": "\u5f00\u542f\u6162\u67e5\u8be2  pt-query-digest\u5de5\u5177\u4f7f\u7528",
            "title": "\u6162\u67e5\u8be2"
        },
        {
            "location": "/jq/1/",
            "text": "\u6b63\u786e\u4f7f\u7528join\u4ece\u53e5\n#\n\n\n1. SQL\u6807\u51c6\u4e2dJoin\u7684\u7c7b\u578b\n#\n\n\n\n\n2. Inner Join(\u5185\u8fde\u63a5)\n#\n\n\n2-1: \u4ec0\u4e48inner join\uff1f\n#\n\n\n\n\n2-2: \u5b9e\u4f8b\u6f14\u793a\n#\n\n\nselect a.user_name, a.over, b.over from user1 a\ninner join user2 b on a.user_name = b.user_name;\n\n\n\n\n\n3. Left Outer Join(\u5de6\u5916\u8fde\u63a5)\n#\n\n\n3-1: \u4ec0\u4e48\u5de6\u5916\u8fde\u63a5\n#\n\n\n\n\n3-2: \u5b9e\u4f8b\u6f14\u793a\n#\n\n\n# \u67e5\u8be2\u51fauser1\u8868\u4e2d\u7684\u4fe1\u606f\uff0c\u5982\u679cuser2\u5728user1\u4e2d\u6ca1\u6709\uff0c\u4ee5NULL\u7684\u663e\u793a\u3002\n\nselect a.user_name, a.over, b.over from user1 a\nleft join user2 b on a.user_name = b.user_name;\n\n\n# \u67e5\u8be2\u51fauser1\u8868\u7684\u4fe1\u606f\uff0c\u4ee5\u53causer2\u5728user1\u4e2d\u6709\u7684\nselect a.user_name, a.over, b.over from user1 a\nleft join user2 b on a.user_name = b.user_name\nwhere b.user_name IS NOT NULL;\n\n\n\n\n\n4. Right Outer join (\u53f3\u5916\u8fde\u63a5)\n#\n\n\n4-1\uff1a\u4ec0\u4e48\u662f\u53f3\u5916\u8fde\u63a5\n#\n\n\n\n\n5. Full join \u5168\u8fde\u63a5\n#\n\n\n5-1\uff1a \u4ec0\u4e48\u662f\u5168\u8fde\u63a5\n#\n\n\n\n\n5-2\uff1aFull join \u5e26\u6765\u7684\u95ee\u9898\n#\n\n\n\n\n5-3\uff1a union all\u5408\u5e76\u89e3\u51b3\u95ee\u9898\n#\n\n\n\n\n6.Cross Join(\u4ea4\u53c9\u8fde\u63a5)\n#\n\n\n6-1\uff1a\u4ec0\u4e48\u4ea4\u53c9\u8fde\u63a5\n#\n\n\n\n\n6-2\uff1a\u4ea4\u53c9\u8fde\u63a5\u5b9e\u73b0\n#",
            "title": "\u6b63\u786e\u4f7f\u7528join\u4ece\u53e5"
        },
        {
            "location": "/jq/1/#join",
            "text": "",
            "title": "\u6b63\u786e\u4f7f\u7528join\u4ece\u53e5"
        },
        {
            "location": "/jq/1/#1-sqljoin",
            "text": "",
            "title": "1. SQL\u6807\u51c6\u4e2dJoin\u7684\u7c7b\u578b"
        },
        {
            "location": "/jq/1/#2-inner-join",
            "text": "",
            "title": "2. Inner Join(\u5185\u8fde\u63a5)"
        },
        {
            "location": "/jq/1/#2-1-inner-join",
            "text": "",
            "title": "2-1: \u4ec0\u4e48inner join\uff1f"
        },
        {
            "location": "/jq/1/#2-2",
            "text": "select a.user_name, a.over, b.over from user1 a\ninner join user2 b on a.user_name = b.user_name;",
            "title": "2-2: \u5b9e\u4f8b\u6f14\u793a"
        },
        {
            "location": "/jq/1/#3-left-outer-join",
            "text": "",
            "title": "3. Left Outer Join(\u5de6\u5916\u8fde\u63a5)"
        },
        {
            "location": "/jq/1/#3-1",
            "text": "",
            "title": "3-1: \u4ec0\u4e48\u5de6\u5916\u8fde\u63a5"
        },
        {
            "location": "/jq/1/#3-2",
            "text": "# \u67e5\u8be2\u51fauser1\u8868\u4e2d\u7684\u4fe1\u606f\uff0c\u5982\u679cuser2\u5728user1\u4e2d\u6ca1\u6709\uff0c\u4ee5NULL\u7684\u663e\u793a\u3002\n\nselect a.user_name, a.over, b.over from user1 a\nleft join user2 b on a.user_name = b.user_name;\n\n\n# \u67e5\u8be2\u51fauser1\u8868\u7684\u4fe1\u606f\uff0c\u4ee5\u53causer2\u5728user1\u4e2d\u6709\u7684\nselect a.user_name, a.over, b.over from user1 a\nleft join user2 b on a.user_name = b.user_name\nwhere b.user_name IS NOT NULL;",
            "title": "3-2: \u5b9e\u4f8b\u6f14\u793a"
        },
        {
            "location": "/jq/1/#4-right-outer-join",
            "text": "",
            "title": "4. Right Outer join (\u53f3\u5916\u8fde\u63a5)"
        },
        {
            "location": "/jq/1/#4-1",
            "text": "",
            "title": "4-1\uff1a\u4ec0\u4e48\u662f\u53f3\u5916\u8fde\u63a5"
        },
        {
            "location": "/jq/1/#5-full-join",
            "text": "",
            "title": "5. Full join \u5168\u8fde\u63a5"
        },
        {
            "location": "/jq/1/#5-1",
            "text": "",
            "title": "5-1\uff1a \u4ec0\u4e48\u662f\u5168\u8fde\u63a5"
        },
        {
            "location": "/jq/1/#5-2full-join",
            "text": "",
            "title": "5-2\uff1aFull join \u5e26\u6765\u7684\u95ee\u9898"
        },
        {
            "location": "/jq/1/#5-3-union-all",
            "text": "",
            "title": "5-3\uff1a union all\u5408\u5e76\u89e3\u51b3\u95ee\u9898"
        },
        {
            "location": "/jq/1/#6cross-join",
            "text": "",
            "title": "6.Cross Join(\u4ea4\u53c9\u8fde\u63a5)"
        },
        {
            "location": "/jq/1/#6-1",
            "text": "",
            "title": "6-1\uff1a\u4ec0\u4e48\u4ea4\u53c9\u8fde\u63a5"
        },
        {
            "location": "/jq/1/#6-2",
            "text": "",
            "title": "6-2\uff1a\u4ea4\u53c9\u8fde\u63a5\u5b9e\u73b0"
        },
        {
            "location": "/jq/2/",
            "text": "\u4f7f\u7528join\u66f4\u65b0\u8868\n#\n\n\n1. \u4f7f\u7528join\u66f4\u65b0\u8868\n#\n\n\nuser1\u8868\uff1a\n\n\n   \n\n\nuser2\u8868\n\n\n\n\n1-1\uff1a \u6f14\u793a\n#\n\n\n\n\n\u9700\u6c42\uff1a\u66f4\u65b0user1\u8868\u4e2d\uff0cuser_name \u5728user1\u8868\u4e2d\u548cuser2\u8868\u4e2d\u540c\u65f6\u5b58\u5728\u7684over\u5b57\u6bb5\n\n\n\u5b9e\u73b0\u601d\u8def\uff1a\n\n\n\n\n\u5185\u8fde\u63a5\u67e5\u8be2user1\u548cuser2\u8868\u4e2duser_name \u76f8\u540c\u7684\u6570\u636e\n\n\n\u4f7f\u7528join \u5c06 \u6b65\u9aa41 \u67e5\u8be2\u7684\u6570\u636e\uff0c\u8fdb\u884c\u5185\u8fde\u63a5\uff0c\u6765\u66f4\u65b0user1\u8868\u3002\n\n\n\n\n\n\nupdate user1 a join (select b.user_name from user1 a join user2 b  \n\non a.user_name=b.user_name) b on a.user_name=b.user_name set\n\na.over='\u5bb6';\n\n\n\n\n\n2. \u4f7f\u7528join\u4f18\u5316\u5b50\u67e5\u8be2\n#\n\n\n2-1\uff1a\u5b9e\u4f8b\n#\n\n\n\n\n3. \u4f7f\u7528join\u4f18\u5316\u5b50\u805a\u5408\u5b50\u67e5\u8be2\n#\n\n\n3-1\uff1a\u5b9e\u4f8b\u8bf4\u660e\n#\n\n\n\n\n4. \u4f7f\u7528join\u5b9e\u73b0\u5206\u7ec4\u9009\u62e9\u6570\u636e\n#\n\n\nuser1\u8868\n\n\n\n\nkills\u8868\n\n\n\n\n\n\n\u9700\u6c42\uff1a\n\n\n\u7ed3\u5408user1\u548ckills\u8868\uff0c\u67e5\u8be2user1\u8868\u4e2d\u7684user_name ,\n\n\n\u5728kills\u8868\u4e2d\u5bf9\u5e94\u7684kills\u6570\u91cf\u6392\u884c\u524d\u4e24\u540d\u7684\u6570\u636e\u663e\u793a\u51fa\u6765\n\n\n\n\nmysql> select d.user_name, c.kills from\n\n(select user_id, kills, (select count(*) from kills b where\n\nb.user_id=a.user_id and a.kills <= b.kills) as count from kills a  \n\ngroup by user_id, kills) c\n\njoin user1 d on c.user_id=d.id where count<=2;\n\n+-----------+-------+\n| user_name | kills |\n+-----------+-------+\n| Tom       |    55 |\n| Tom       |    44 |\n| jack      |    44 |\n| jack      |    23 |\n| cc        |    33 |\n| cc        |    22 |\n| fly       |     2 |\n+-----------+-------+\n7 rows in set (0.00 sec)",
            "title": "\u4e0ejoin\u76f8\u5173\u7684SQL\u6280\u5de7"
        },
        {
            "location": "/jq/2/#join",
            "text": "",
            "title": "\u4f7f\u7528join\u66f4\u65b0\u8868"
        },
        {
            "location": "/jq/2/#1-join",
            "text": "user1\u8868\uff1a       user2\u8868",
            "title": "1. \u4f7f\u7528join\u66f4\u65b0\u8868"
        },
        {
            "location": "/jq/2/#1-1",
            "text": "\u9700\u6c42\uff1a\u66f4\u65b0user1\u8868\u4e2d\uff0cuser_name \u5728user1\u8868\u4e2d\u548cuser2\u8868\u4e2d\u540c\u65f6\u5b58\u5728\u7684over\u5b57\u6bb5  \u5b9e\u73b0\u601d\u8def\uff1a   \u5185\u8fde\u63a5\u67e5\u8be2user1\u548cuser2\u8868\u4e2duser_name \u76f8\u540c\u7684\u6570\u636e  \u4f7f\u7528join \u5c06 \u6b65\u9aa41 \u67e5\u8be2\u7684\u6570\u636e\uff0c\u8fdb\u884c\u5185\u8fde\u63a5\uff0c\u6765\u66f4\u65b0user1\u8868\u3002    update user1 a join (select b.user_name from user1 a join user2 b  \n\non a.user_name=b.user_name) b on a.user_name=b.user_name set\n\na.over='\u5bb6';",
            "title": "1-1\uff1a \u6f14\u793a"
        },
        {
            "location": "/jq/2/#2-join",
            "text": "",
            "title": "2. \u4f7f\u7528join\u4f18\u5316\u5b50\u67e5\u8be2"
        },
        {
            "location": "/jq/2/#2-1",
            "text": "",
            "title": "2-1\uff1a\u5b9e\u4f8b"
        },
        {
            "location": "/jq/2/#3-join",
            "text": "",
            "title": "3. \u4f7f\u7528join\u4f18\u5316\u5b50\u805a\u5408\u5b50\u67e5\u8be2"
        },
        {
            "location": "/jq/2/#3-1",
            "text": "",
            "title": "3-1\uff1a\u5b9e\u4f8b\u8bf4\u660e"
        },
        {
            "location": "/jq/2/#4-join",
            "text": "user1\u8868   kills\u8868    \u9700\u6c42\uff1a  \u7ed3\u5408user1\u548ckills\u8868\uff0c\u67e5\u8be2user1\u8868\u4e2d\u7684user_name ,  \u5728kills\u8868\u4e2d\u5bf9\u5e94\u7684kills\u6570\u91cf\u6392\u884c\u524d\u4e24\u540d\u7684\u6570\u636e\u663e\u793a\u51fa\u6765   mysql> select d.user_name, c.kills from\n\n(select user_id, kills, (select count(*) from kills b where\n\nb.user_id=a.user_id and a.kills <= b.kills) as count from kills a  \n\ngroup by user_id, kills) c\n\njoin user1 d on c.user_id=d.id where count<=2;\n\n+-----------+-------+\n| user_name | kills |\n+-----------+-------+\n| Tom       |    55 |\n| Tom       |    44 |\n| jack      |    44 |\n| jack      |    23 |\n| cc        |    33 |\n| cc        |    22 |\n| fly       |     2 |\n+-----------+-------+\n7 rows in set (0.00 sec)",
            "title": "4. \u4f7f\u7528join\u5b9e\u73b0\u5206\u7ec4\u9009\u62e9\u6570\u636e"
        },
        {
            "location": "/jq/3/",
            "text": "\u884c\u548c\u5217\u4e92\u8f6c\u7684SQL\u6280\u5de7\n#\n\n\n1. \u884c\u8f6c\u5217\u7684\u573a\u666f\n#\n\n\n\n\n1-1\uff1a\u4f7f\u7528\u81ea\u8fde\u63a5\u65b9\u5f0f\u5b9e\u73b0\u884c\u8f6c\u5217\n#\n\n\n\n\nuser1 \u8868\u7ed3\u6784\uff1a\n\n\nmysql> select * from user1;\n+----+-----------+--------------+\n| id | user_name | over         |\n+----+-----------+--------------+\n|  1 | \u5510\u50e7      | \u529f\u5fb7\u4f5b       |\n|  2 | \u5b59\u609f\u7a7a    | \u51c0\u575b\u4f7f\u8005     |\n|  3 | \u732a\u516b\u6212    | \u6597\u6218\u5723\u4f5b     |\n|  4 | \u6c99\u50e7      | \u91d1\u8eab\u7f57\u6c49     |\n+----+-----------+--------------+\n4 rows in set (0.00 sec)\n\n\n\n\n\nkills\u8868\u7ed3\u6784\uff1a\n\n\nmysql> select * from kills;\n+----+---------+-------+\n| id | user_id | kills |\n+----+---------+-------+\n|  1 |       2 |    12 |\n|  2 |       2 |    23 |\n|  3 |       1 |     9 |\n|  4 |       3 |    22 |\n|  5 |       2 |    44 |\n|  6 |       3 |    33 |\n|  7 |       1 |    11 |\n|  8 |       1 |    44 |\n|  9 |       1 |    55 |\n| 10 |       4 |     2 |\n+----+---------+-------+\n10 rows in set (0.00 sec)\n\n\n\n\n\n\u5c06user1 \u548c kills\u8fdb\u884c\u5185\u8fde\u63a5\u5e76\u5206\u7ec4\n\n\nmysql> select a.user_name, sum(k.kills) from user1 a join kills k on  a.id=k.user_id group by a.user_name;\n+-----------+--------------+\n| user_name | sum(k.kills) |\n+-----------+--------------+\n| \u5510\u50e7      |          119 |\n| \u5b59\u609f\u7a7a    |           79 |\n| \u6c99\u50e7      |            2 |\n| \u732a\u516b\u6212    |           55 |\n+-----------+--------------+\n4 rows in set (0.00 sec)\n\n\n\n\n\n\u4f7f\u7528\u4ea4\u53c9\u8fde\u63a5\u5b9e\u73b0\u884c\u8f6c\u5217\n\n\nselect * from\n\n(select sum(k.kills) as '\u732a\u516b\u6212' from user1 a inner join kills k on a.id=k.user_id and a.user_name='\u732a\u516b\u6212') a\n\ncross join\n\n(select sum(k.kills) as '\u5510\u50e7' from user1 a inner join kills k on a.id = k.user_id and a.user_name='\u5510\u50e7') b\n\ncross join\n\n(select sum(k.kills) as '\u6c99\u50e7' from user1 a inner join kills k on a.id = k.user_id and a.user_name='\u6c99\u50e7') c\n\ncross join\n\n(select sum(k.kills) as '\u5b59\u609f\u7a7a' from user1 a inner join kills k on a.id = k.user_id and a.user_name='\u5b59\u609f\u7a7a') d;\n\n+-----------+--------+--------+-----------+\n| \u732a\u516b\u6212    | \u5510\u50e7   | \u6c99\u50e7   | \u5b59\u609f\u7a7a    |\n+-----------+--------+--------+-----------+\n|        55 |    119 |      2 |        79 |\n+-----------+--------+--------+-----------+\n1 row in set (0.00 sec)\n\n\n\n\n\n1-2\uff1a\u4f7f\u7528case\u8bed\u53e5\u5b9e\u73b0\u884c\u8f6c\u5217\n#\n\n\nselect\nsum(case when user_name='\u5b59\u609f\u7a7a' then kills end) as '\u5b59\u609f\u7a7a',\nsum(case when user_name='\u5b59\u609f\u7a7a' then kills end) as '\u5b59\u609f\u7a7a',\nsum(case when user_name='\u5b59\u609f\u7a7a' then kills end) as '\u5b59\u609f\u7a7a',\nsum(case when user_name='\u5b59\u609f\u7a7a' then kills end) as '\u5b59\u609f\u7a7a'\nfrom user1 a join kills k on a.id=k.user_id;\n\n+-----------+-----------+-----------+-----------+\n| \u5b59\u609f\u7a7a    | \u5b59\u609f\u7a7a    | \u5b59\u609f\u7a7a    | \u5b59\u609f\u7a7a    |\n+-----------+-----------+-----------+-----------+\n|        79 |        79 |        79 |        79 |\n+-----------+-----------+-----------+-----------+\n1 row in set (0.00 sec)\n\n\n\n\n\n2.\u5355\u5217\u8f6c\u591a\u884c\n#\n\n\n2-1\uff1a\u4f7f\u7528\u573a\u666f\n#\n\n\n\n\n2-2\uff1a\u4f7f\u7528\u5e8f\u5217\u5316\u8868\u7684\u65b9\u6cd5\u5b9e\u73b0\u5217\u8f6c\u884c\n#\n\n\n\n\n\u5c06user1\u4e2d\u7684\u6570\u636e\u7684mobile\u5217\u8fdb\u884c\u8f6c\u884c\n\n\n\n\n\u7b2c\u4e00\u6b65\uff1a\u521b\u5efa\u4e00\u4e2a\u5e8f\u5217\u5316\u8868\uff1a\n\n\n\n\nmysql> create table  tb_sequence(id int primary key auto_increment not null);\nQuery OK, 0 rows affected (0.01 sec)\n\nmysql> insert into tb_sequence values(),(),(),(),(),(),(),(),();\nQuery OK, 9 rows affected (0.00 sec)\nRecords: 9  Duplicates: 0  Warnings: 0\n\nmysql> select * from tb_sequence;\n+----+\n| id |\n+----+\n|  1 |\n|  2 |\n|  3 |\n|  4 |\n|  5 |\n|  6 |\n|  7 |\n|  8 |\n|  9 |\n+----+\n\n\n\n\n\n\n\n\u7b2c\u4e8c\u6b65\uff1a\u5229\u7528\u5e8f\u5217\u5316\u8868\u5c06\u5217\u8f6c\u4e3a\u591a\u884c\n\n\n\n\nselect\nuser_name,\nreplace(substring(substring_index(mobile,',', a.id), char_length(substring_index(mobile, ',', a.id -1))+1), ',', '') as mobile\n\nfrom tb_sequence a\ncross join\n(\n  select user_name,\n  concat(mobile, ',') as mobile,\n  length(mobile) - length(replace(mobile, ',',''))+1 size\n  from user1 b\n) b\n\non a.id <=b.size;\n\n\n+-----------+-------------+\n| user_name | mobile      |\n+-----------+-------------+\n| \u5510\u50e7      | 12345678901 |\n| \u5510\u50e7      | 12344444444 |\n| \u5510\u50e7      | 12355555555 |\n| \u5b59\u609f\u7a7a    | 12345678901 |\n| \u5b59\u609f\u7a7a    | 12344444444 |\n| \u5b59\u609f\u7a7a    |             |\n| \u732a\u516b\u6212    | 12345678901 |\n| \u732a\u516b\u6212    |             |\n| \u6c99\u50e7      | 12345678901 |\n| \u6c99\u50e7      | 12344444444 |\n| \u6c99\u50e7      | 12355555555 |\n+-----------+-------------+\n11 rows in set (0.00 sec)\n\n\n\n\n\n3. \u591a\u5217\u8f6c\u591a\u884c\n#\n\n\n3-1\uff1a\u573a\u666f\n#\n\n\n\n\n3-2\uff1a\u4f7f\u7528union all \u591a\u5217\u8f6c\u591a\u884c\u7684\u5b9e\u4f8b\n#\n\n\n\n\nselect user_name, 'arms' as equipment, arms from user1 a\n\njoin equipment b on a.id = b.user_id\n\nunion all\n\nselect user_name, 'clothing' as equipment, arms from user1 a\n\njoin equipment b on a.id = b.user_id\n\nunion all\n\nselect user_name, 'shoe' as equipment, arms from user1 a\n\njoin equipment b on a.id = b.user_id\n\norder by user_name;\n\n+-----------+-----------+--------------+\n| user_name | equipment | arms         |\n+-----------+-----------+--------------+\n| \u5510\u50e7      | shoe      | \u4e5d\u73af\u9521\u6756     |\n| \u5510\u50e7      | clothing  | \u4e5d\u73af\u9521\u6756     |\n| \u5510\u50e7      | arms      | \u4e5d\u73af\u9521\u6756     |\n| \u5b59\u609f\u7a7a    | clothing  | \u4e5d\u6c60\u9489\u9776     |\n| \u5b59\u609f\u7a7a    | arms      | \u4e5d\u6c60\u9489\u9776     |\n| \u5b59\u609f\u7a7a    | shoe      | \u4e5d\u6c60\u9489\u9776     |\n| \u6c99\u50e7      | shoe      | \u964d\u5996\u62a5\u8d26     |\n| \u6c99\u50e7      | clothing  | \u964d\u5996\u62a5\u8d26     |\n| \u6c99\u50e7      | arms      | \u964d\u5996\u62a5\u8d26     |\n| \u732a\u516b\u6212    | shoe      | \u7d27\u7b8d\u5492       |\n| \u732a\u516b\u6212    | clothing  | \u7d27\u7b8d\u5492       |\n| \u732a\u516b\u6212    | arms      | \u7d27\u7b8d\u5492       |\n+-----------+-----------+--------------+\n12 rows in set (0.00 sec)",
            "title": "\u884c\u5217\u76f8\u4e92\u8f6c\u5316\u7684SQL\u6280\u5de7"
        },
        {
            "location": "/jq/3/#sql",
            "text": "",
            "title": "\u884c\u548c\u5217\u4e92\u8f6c\u7684SQL\u6280\u5de7"
        },
        {
            "location": "/jq/3/#1",
            "text": "",
            "title": "1. \u884c\u8f6c\u5217\u7684\u573a\u666f"
        },
        {
            "location": "/jq/3/#1-1",
            "text": "user1 \u8868\u7ed3\u6784\uff1a  mysql> select * from user1;\n+----+-----------+--------------+\n| id | user_name | over         |\n+----+-----------+--------------+\n|  1 | \u5510\u50e7      | \u529f\u5fb7\u4f5b       |\n|  2 | \u5b59\u609f\u7a7a    | \u51c0\u575b\u4f7f\u8005     |\n|  3 | \u732a\u516b\u6212    | \u6597\u6218\u5723\u4f5b     |\n|  4 | \u6c99\u50e7      | \u91d1\u8eab\u7f57\u6c49     |\n+----+-----------+--------------+\n4 rows in set (0.00 sec)  kills\u8868\u7ed3\u6784\uff1a  mysql> select * from kills;\n+----+---------+-------+\n| id | user_id | kills |\n+----+---------+-------+\n|  1 |       2 |    12 |\n|  2 |       2 |    23 |\n|  3 |       1 |     9 |\n|  4 |       3 |    22 |\n|  5 |       2 |    44 |\n|  6 |       3 |    33 |\n|  7 |       1 |    11 |\n|  8 |       1 |    44 |\n|  9 |       1 |    55 |\n| 10 |       4 |     2 |\n+----+---------+-------+\n10 rows in set (0.00 sec)  \u5c06user1 \u548c kills\u8fdb\u884c\u5185\u8fde\u63a5\u5e76\u5206\u7ec4  mysql> select a.user_name, sum(k.kills) from user1 a join kills k on  a.id=k.user_id group by a.user_name;\n+-----------+--------------+\n| user_name | sum(k.kills) |\n+-----------+--------------+\n| \u5510\u50e7      |          119 |\n| \u5b59\u609f\u7a7a    |           79 |\n| \u6c99\u50e7      |            2 |\n| \u732a\u516b\u6212    |           55 |\n+-----------+--------------+\n4 rows in set (0.00 sec)  \u4f7f\u7528\u4ea4\u53c9\u8fde\u63a5\u5b9e\u73b0\u884c\u8f6c\u5217  select * from\n\n(select sum(k.kills) as '\u732a\u516b\u6212' from user1 a inner join kills k on a.id=k.user_id and a.user_name='\u732a\u516b\u6212') a\n\ncross join\n\n(select sum(k.kills) as '\u5510\u50e7' from user1 a inner join kills k on a.id = k.user_id and a.user_name='\u5510\u50e7') b\n\ncross join\n\n(select sum(k.kills) as '\u6c99\u50e7' from user1 a inner join kills k on a.id = k.user_id and a.user_name='\u6c99\u50e7') c\n\ncross join\n\n(select sum(k.kills) as '\u5b59\u609f\u7a7a' from user1 a inner join kills k on a.id = k.user_id and a.user_name='\u5b59\u609f\u7a7a') d;\n\n+-----------+--------+--------+-----------+\n| \u732a\u516b\u6212    | \u5510\u50e7   | \u6c99\u50e7   | \u5b59\u609f\u7a7a    |\n+-----------+--------+--------+-----------+\n|        55 |    119 |      2 |        79 |\n+-----------+--------+--------+-----------+\n1 row in set (0.00 sec)",
            "title": "1-1\uff1a\u4f7f\u7528\u81ea\u8fde\u63a5\u65b9\u5f0f\u5b9e\u73b0\u884c\u8f6c\u5217"
        },
        {
            "location": "/jq/3/#1-2case",
            "text": "select\nsum(case when user_name='\u5b59\u609f\u7a7a' then kills end) as '\u5b59\u609f\u7a7a',\nsum(case when user_name='\u5b59\u609f\u7a7a' then kills end) as '\u5b59\u609f\u7a7a',\nsum(case when user_name='\u5b59\u609f\u7a7a' then kills end) as '\u5b59\u609f\u7a7a',\nsum(case when user_name='\u5b59\u609f\u7a7a' then kills end) as '\u5b59\u609f\u7a7a'\nfrom user1 a join kills k on a.id=k.user_id;\n\n+-----------+-----------+-----------+-----------+\n| \u5b59\u609f\u7a7a    | \u5b59\u609f\u7a7a    | \u5b59\u609f\u7a7a    | \u5b59\u609f\u7a7a    |\n+-----------+-----------+-----------+-----------+\n|        79 |        79 |        79 |        79 |\n+-----------+-----------+-----------+-----------+\n1 row in set (0.00 sec)",
            "title": "1-2\uff1a\u4f7f\u7528case\u8bed\u53e5\u5b9e\u73b0\u884c\u8f6c\u5217"
        },
        {
            "location": "/jq/3/#2",
            "text": "",
            "title": "2.\u5355\u5217\u8f6c\u591a\u884c"
        },
        {
            "location": "/jq/3/#2-1",
            "text": "",
            "title": "2-1\uff1a\u4f7f\u7528\u573a\u666f"
        },
        {
            "location": "/jq/3/#2-2",
            "text": "\u5c06user1\u4e2d\u7684\u6570\u636e\u7684mobile\u5217\u8fdb\u884c\u8f6c\u884c   \u7b2c\u4e00\u6b65\uff1a\u521b\u5efa\u4e00\u4e2a\u5e8f\u5217\u5316\u8868\uff1a   mysql> create table  tb_sequence(id int primary key auto_increment not null);\nQuery OK, 0 rows affected (0.01 sec)\n\nmysql> insert into tb_sequence values(),(),(),(),(),(),(),(),();\nQuery OK, 9 rows affected (0.00 sec)\nRecords: 9  Duplicates: 0  Warnings: 0\n\nmysql> select * from tb_sequence;\n+----+\n| id |\n+----+\n|  1 |\n|  2 |\n|  3 |\n|  4 |\n|  5 |\n|  6 |\n|  7 |\n|  8 |\n|  9 |\n+----+   \u7b2c\u4e8c\u6b65\uff1a\u5229\u7528\u5e8f\u5217\u5316\u8868\u5c06\u5217\u8f6c\u4e3a\u591a\u884c   select\nuser_name,\nreplace(substring(substring_index(mobile,',', a.id), char_length(substring_index(mobile, ',', a.id -1))+1), ',', '') as mobile\n\nfrom tb_sequence a\ncross join\n(\n  select user_name,\n  concat(mobile, ',') as mobile,\n  length(mobile) - length(replace(mobile, ',',''))+1 size\n  from user1 b\n) b\n\non a.id <=b.size;\n\n\n+-----------+-------------+\n| user_name | mobile      |\n+-----------+-------------+\n| \u5510\u50e7      | 12345678901 |\n| \u5510\u50e7      | 12344444444 |\n| \u5510\u50e7      | 12355555555 |\n| \u5b59\u609f\u7a7a    | 12345678901 |\n| \u5b59\u609f\u7a7a    | 12344444444 |\n| \u5b59\u609f\u7a7a    |             |\n| \u732a\u516b\u6212    | 12345678901 |\n| \u732a\u516b\u6212    |             |\n| \u6c99\u50e7      | 12345678901 |\n| \u6c99\u50e7      | 12344444444 |\n| \u6c99\u50e7      | 12355555555 |\n+-----------+-------------+\n11 rows in set (0.00 sec)",
            "title": "2-2\uff1a\u4f7f\u7528\u5e8f\u5217\u5316\u8868\u7684\u65b9\u6cd5\u5b9e\u73b0\u5217\u8f6c\u884c"
        },
        {
            "location": "/jq/3/#3",
            "text": "",
            "title": "3. \u591a\u5217\u8f6c\u591a\u884c"
        },
        {
            "location": "/jq/3/#3-1",
            "text": "",
            "title": "3-1\uff1a\u573a\u666f"
        },
        {
            "location": "/jq/3/#3-2union-all",
            "text": "select user_name, 'arms' as equipment, arms from user1 a\n\njoin equipment b on a.id = b.user_id\n\nunion all\n\nselect user_name, 'clothing' as equipment, arms from user1 a\n\njoin equipment b on a.id = b.user_id\n\nunion all\n\nselect user_name, 'shoe' as equipment, arms from user1 a\n\njoin equipment b on a.id = b.user_id\n\norder by user_name;\n\n+-----------+-----------+--------------+\n| user_name | equipment | arms         |\n+-----------+-----------+--------------+\n| \u5510\u50e7      | shoe      | \u4e5d\u73af\u9521\u6756     |\n| \u5510\u50e7      | clothing  | \u4e5d\u73af\u9521\u6756     |\n| \u5510\u50e7      | arms      | \u4e5d\u73af\u9521\u6756     |\n| \u5b59\u609f\u7a7a    | clothing  | \u4e5d\u6c60\u9489\u9776     |\n| \u5b59\u609f\u7a7a    | arms      | \u4e5d\u6c60\u9489\u9776     |\n| \u5b59\u609f\u7a7a    | shoe      | \u4e5d\u6c60\u9489\u9776     |\n| \u6c99\u50e7      | shoe      | \u964d\u5996\u62a5\u8d26     |\n| \u6c99\u50e7      | clothing  | \u964d\u5996\u62a5\u8d26     |\n| \u6c99\u50e7      | arms      | \u964d\u5996\u62a5\u8d26     |\n| \u732a\u516b\u6212    | shoe      | \u7d27\u7b8d\u5492       |\n| \u732a\u516b\u6212    | clothing  | \u7d27\u7b8d\u5492       |\n| \u732a\u516b\u6212    | arms      | \u7d27\u7b8d\u5492       |\n+-----------+-----------+--------------+\n12 rows in set (0.00 sec)",
            "title": "3-2\uff1a\u4f7f\u7528union all \u591a\u5217\u8f6c\u591a\u884c\u7684\u5b9e\u4f8b"
        },
        {
            "location": "/jq/4/",
            "text": "\u5229\u7528\u4e3b\u952e\u5220\u9664\u91cd\u590d\u6570\u636e\n#\n\n\n1. \u5220\u9664\u91cd\u590d\u6570\u636e\n#\n\n\n1-1\uff1a\u5220\u9664\u7b56\u7565\n#\n\n\n\n\n1-2\uff1a \u5220\u9664\u5b9e\u73b0\n#\n\n\n\n\n\u5c06\u8868\u4e2d\u7684\u91cd\u590d\u6570\u636e\u5220\u9664\n\n\nmysql> select user_name, count(*), max(id) as id from user_test group by user_name having count(*) > 1;\n+-----------+----------+------+\n| user_name | count(*) | id   |\n+-----------+----------+------+\n| \u5510\u50e7      |        4 |   19 |\n| \u5b59\u609f\u7a7a    |        4 |   20 |\n| \u6c99\u50e7      |        4 |   22 |\n| \u732a\u516b\u6212    |        4 |   21 |\n+-----------+----------+------+\n4 rows in set (0.00 sec)\n\nmysql> delete a from user_test a\n\njoin\n\n(select user_name, count(*), max(id) as id from user_test group by user_name having count(*) > 1)  b\n\non\n\na.user_name = b.user_name where a.id < b.id;\n\nQuery OK, 12 rows affected (0.01 sec)\n\nmysql> select id,user_name,over from user_test;\n+----+-----------+--------------+\n| id | user_name | over         |\n+----+-----------+--------------+\n| 19 | \u5510\u50e7      | \u529f\u5fb7\u4f5b       |\n| 20 | \u5b59\u609f\u7a7a    | \u51c0\u575b\u4f7f\u8005     |\n| 21 | \u732a\u516b\u6212    | \u6597\u6218\u5723\u4f5b     |\n| 22 | \u6c99\u50e7      | \u91d1\u8eab\u7f57\u6c49     |\n+----+-----------+--------------+",
            "title": "\u5229\u7528\u4e3b\u952e\u5220\u9664\u91cd\u590d\u6570\u636e\u7684SQL\u6280\u5de7"
        },
        {
            "location": "/jq/4/#_1",
            "text": "",
            "title": "\u5229\u7528\u4e3b\u952e\u5220\u9664\u91cd\u590d\u6570\u636e"
        },
        {
            "location": "/jq/4/#1",
            "text": "",
            "title": "1. \u5220\u9664\u91cd\u590d\u6570\u636e"
        },
        {
            "location": "/jq/4/#1-1",
            "text": "",
            "title": "1-1\uff1a\u5220\u9664\u7b56\u7565"
        },
        {
            "location": "/jq/4/#1-2",
            "text": "\u5c06\u8868\u4e2d\u7684\u91cd\u590d\u6570\u636e\u5220\u9664  mysql> select user_name, count(*), max(id) as id from user_test group by user_name having count(*) > 1;\n+-----------+----------+------+\n| user_name | count(*) | id   |\n+-----------+----------+------+\n| \u5510\u50e7      |        4 |   19 |\n| \u5b59\u609f\u7a7a    |        4 |   20 |\n| \u6c99\u50e7      |        4 |   22 |\n| \u732a\u516b\u6212    |        4 |   21 |\n+-----------+----------+------+\n4 rows in set (0.00 sec)\n\nmysql> delete a from user_test a\n\njoin\n\n(select user_name, count(*), max(id) as id from user_test group by user_name having count(*) > 1)  b\n\non\n\na.user_name = b.user_name where a.id < b.id;\n\nQuery OK, 12 rows affected (0.01 sec)\n\nmysql> select id,user_name,over from user_test;\n+----+-----------+--------------+\n| id | user_name | over         |\n+----+-----------+--------------+\n| 19 | \u5510\u50e7      | \u529f\u5fb7\u4f5b       |\n| 20 | \u5b59\u609f\u7a7a    | \u51c0\u575b\u4f7f\u8005     |\n| 21 | \u732a\u516b\u6212    | \u6597\u6218\u5723\u4f5b     |\n| 22 | \u6c99\u50e7      | \u91d1\u8eab\u7f57\u6c49     |\n+----+-----------+--------------+",
            "title": "1-2\uff1a \u5220\u9664\u5b9e\u73b0"
        },
        {
            "location": "/jq/5/",
            "text": "\u5b50\u67e5\u8be2\u5b9e\u73b0\u591a\u5217\u8fc7\u6ee4\n#\n\n\n1. \u4ec0\u4e48\u662f\u5b50\u67e5\u8be2\n#\n\n\n\n\n\u5f53\u4e00\u4e2a\u67e5\u8be2\u662f\u53e6\u4e00\u4e2a\u67e5\u8be2\u7684\u7684\u6761\u4ef6\u65f6\uff0c\u79f0\u4e3a\u5b50\u67e5\u8be2\u3002\n\n\n\n\n2. \u5b50\u67e5\u8be2\u7684\u597d\u5904\n#\n\n\n\n\n\u4f7f\u7528\u5b50\u67e5\u8be2\u53ef\u4ee5\u907f\u514d\u7531\u4e8e\u5b50\u67e5\u8be2\u4e2d\u7684\u6570\u636e\u4ea7\u751f\u7684\u91cd\u590d\n\n\n\n\n2-1\uff1a\u5b50\u67e5\u8be2\u6f14\u793a\n#\n\n\nmysql> select user_name from user1 where id in  (select user_id from kills);\n+-----------+\n| user_name |\n+-----------+\n| \u5510\u50e7      |\n| \u5b59\u609f\u7a7a    |\n| \u732a\u516b\u6212    |\n| \u6c99\u50e7      |\n+-----------+\n4 rows in set (0.00 sec)\n\n\n\n\n\n2-2: \u4f7f\u7528join\u4ece\u53e5\u5b9e\u73b0\u5b50\u67e5\u8be2\n#\n\n\nmysql> select a.user_name from user1 a join kills k on a.id = k.user_id;\n+-----------+\n| user_name |\n+-----------+\n| \u5b59\u609f\u7a7a    |\n| \u5b59\u609f\u7a7a    |\n| \u5510\u50e7      |\n| \u732a\u516b\u6212    |\n| \u5b59\u609f\u7a7a    |\n| \u732a\u516b\u6212    |\n| \u5510\u50e7      |\n| \u5510\u50e7      |\n| \u5510\u50e7      |\n| \u6c99\u50e7      |\n+-----------+\n10 rows in set (0.00 sec)\n\n\n\n\n\n\u6ce8\u610f\n\uff1a \u4f7f\u7528join\u6765\u5b9e\u73b0\u5b50\u67e5\u8be2\uff0c\u4f1a\u51fa\u73b0\u6570\u636e\u91cd\u590d\u95ee\u9898\u3002\n\n\n\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528group by  \u6216\u8005 distinct \u6765\u89e3\u51b3\u91cd\u590d\u95ee\u9898\u3002\n\n\n2-3\uff1a\u89e3\u51b3join\u5b50\u67e5\u8be2\u5e26\u6765\u7684\u6570\u636e\u91cd\u590d\u95ee\u9898\n#\n\n\n\n\n\u4f7f\u7528 group by \u8fdb\u884c\u5206\u7ec4\u3002\n\n\n\n\nmysql> select a.user_name from user1 a join kills k on a.id = k.user_id group by a.user_name;\n+-----------+\n| user_name |\n+-----------+\n| \u5510\u50e7      |\n| \u5b59\u609f\u7a7a    |\n| \u6c99\u50e7      |\n| \u732a\u516b\u6212    |\n+-----------+\n\n\n\n\n\n\n\n\u4f7f\u7528distinct\n\n\n\n\nmysql> select distinct a.user_name from user1 a join kills k on a.id = k.user_id;\n+-----------+\n| user_name |\n+-----------+\n| \u5b59\u609f\u7a7a    |\n| \u5510\u50e7      |\n| \u732a\u516b\u6212    |\n| \u6c99\u50e7      |\n+-----------+\n4 rows in set (0.00 sec)\n\nmysql>\n\n\n\n\n\n3. \u5b50\u67e5\u8be2\u5b9e\u73b0\u591a\u5217\u8fc7\u6ee4\n#\n\n\n3.1 \u9700\u6c42\n#\n\n\n\n\n\u67e5\u8be2\u51fa\u6bcf\u4e2a\u53d6\u7ecf\u4eba\u6253\u602a\u6700\u591a\u7684\u65e5\u671f\uff0c\u5e76\u5217\u51fa\u53d6\u7ecf\u4eba\u7684\u59d3\u540d\uff0c\u6253\u602a\u6700\u591a\u7684\u65e5\u671f\u548c\u6253\u602a\u7684\u6570\u91cf\n\n\n\n\n3.2 \u591a\u5217\u8fc7\u6ee4\u5b9e\u73b0-\n#\n\n\nmysql> select a.user_name, b.kills from user1 a join kills b on a.id = b.user_id;\n+-----------+-------+\n| user_name | kills |\n+-----------+-------+\n| \u5b59\u609f\u7a7a    |    12 |\n| \u5b59\u609f\u7a7a    |    23 |\n| \u5510\u50e7      |     9 |\n| \u732a\u516b\u6212    |    22 |\n| \u5b59\u609f\u7a7a    |    44 |\n| \u732a\u516b\u6212    |    33 |\n| \u5510\u50e7      |    11 |\n| \u5510\u50e7      |    44 |\n| \u5510\u50e7      |    55 |\n| \u6c99\u50e7      |     2 |\n+-----------+-------+\n10 rows in set (0.00 sec)\n\n\n\n\n\nmysql> select user_id, max(kills) as cnt from kills group by user_id;\n+---------+------+\n| user_id | cnt  |\n+---------+------+\n|       1 |   55 |\n|       2 |   44 |\n|       3 |   33 |\n|       4 |    2 |\n+---------+------+\n4 rows in set (0.00 sec)\n\n\n\n\n\n\u5c06\u4ee5\u4e0a\u67e5\u8be2\u7684\u8868\uff0c\u8fdb\u884cjoin\u67e5\u8be2\n\n\nmysql> select a.user_name, b.kills from user1 a join kills b on a.id = b.user_id\njoin (select user_id, max(kills) as cnt from kills group by user_id) c\non c.user_id = a.id and c.cnt=b.kills;\n+-----------+-------+\n| user_name | kills |\n+-----------+-------+\n| \u5b59\u609f\u7a7a    |    44 |\n| \u732a\u516b\u6212    |    33 |\n| \u5510\u50e7      |    55 |\n| \u6c99\u50e7      |     2 |\n+-----------+-------+\n4 rows in set (0.00 sec)\n\n\n\n\n\n3.3 \u591a\u5217\u8fc7\u6ee4\u5b9e\u73b0\u4e8c\n#\n\n\nmysql> select a.user_name, b.kills from user1 a join kills b\n\non\n\na.id=b.user_id where (b.user_id, b.kills)\n\nin\n\n(select user_id, max(kills) from kills group by user_id);\n\n+-----------+-------+\n| user_name | kills |\n+-----------+-------+\n| \u5b59\u609f\u7a7a    |    44 |\n| \u732a\u516b\u6212    |    33 |\n| \u5510\u50e7      |    55 |\n| \u6c99\u50e7      |     2 |\n+-----------+-------+\n4 rows in set (0.00 sec)",
            "title": "\u5b50\u67e5\u8be2\u4e2d\u5b9e\u73b0\u591a\u5217\u8fc7\u6ee4\u7684SQL\u6280\u5de7"
        },
        {
            "location": "/jq/5/#_1",
            "text": "",
            "title": "\u5b50\u67e5\u8be2\u5b9e\u73b0\u591a\u5217\u8fc7\u6ee4"
        },
        {
            "location": "/jq/5/#1",
            "text": "\u5f53\u4e00\u4e2a\u67e5\u8be2\u662f\u53e6\u4e00\u4e2a\u67e5\u8be2\u7684\u7684\u6761\u4ef6\u65f6\uff0c\u79f0\u4e3a\u5b50\u67e5\u8be2\u3002",
            "title": "1. \u4ec0\u4e48\u662f\u5b50\u67e5\u8be2"
        },
        {
            "location": "/jq/5/#2",
            "text": "\u4f7f\u7528\u5b50\u67e5\u8be2\u53ef\u4ee5\u907f\u514d\u7531\u4e8e\u5b50\u67e5\u8be2\u4e2d\u7684\u6570\u636e\u4ea7\u751f\u7684\u91cd\u590d",
            "title": "2. \u5b50\u67e5\u8be2\u7684\u597d\u5904"
        },
        {
            "location": "/jq/5/#2-1",
            "text": "mysql> select user_name from user1 where id in  (select user_id from kills);\n+-----------+\n| user_name |\n+-----------+\n| \u5510\u50e7      |\n| \u5b59\u609f\u7a7a    |\n| \u732a\u516b\u6212    |\n| \u6c99\u50e7      |\n+-----------+\n4 rows in set (0.00 sec)",
            "title": "2-1\uff1a\u5b50\u67e5\u8be2\u6f14\u793a"
        },
        {
            "location": "/jq/5/#2-2-join",
            "text": "mysql> select a.user_name from user1 a join kills k on a.id = k.user_id;\n+-----------+\n| user_name |\n+-----------+\n| \u5b59\u609f\u7a7a    |\n| \u5b59\u609f\u7a7a    |\n| \u5510\u50e7      |\n| \u732a\u516b\u6212    |\n| \u5b59\u609f\u7a7a    |\n| \u732a\u516b\u6212    |\n| \u5510\u50e7      |\n| \u5510\u50e7      |\n| \u5510\u50e7      |\n| \u6c99\u50e7      |\n+-----------+\n10 rows in set (0.00 sec)  \u6ce8\u610f \uff1a \u4f7f\u7528join\u6765\u5b9e\u73b0\u5b50\u67e5\u8be2\uff0c\u4f1a\u51fa\u73b0\u6570\u636e\u91cd\u590d\u95ee\u9898\u3002  \u6211\u4eec\u53ef\u4ee5\u4f7f\u7528group by  \u6216\u8005 distinct \u6765\u89e3\u51b3\u91cd\u590d\u95ee\u9898\u3002",
            "title": "2-2: \u4f7f\u7528join\u4ece\u53e5\u5b9e\u73b0\u5b50\u67e5\u8be2"
        },
        {
            "location": "/jq/5/#2-3join",
            "text": "\u4f7f\u7528 group by \u8fdb\u884c\u5206\u7ec4\u3002   mysql> select a.user_name from user1 a join kills k on a.id = k.user_id group by a.user_name;\n+-----------+\n| user_name |\n+-----------+\n| \u5510\u50e7      |\n| \u5b59\u609f\u7a7a    |\n| \u6c99\u50e7      |\n| \u732a\u516b\u6212    |\n+-----------+   \u4f7f\u7528distinct   mysql> select distinct a.user_name from user1 a join kills k on a.id = k.user_id;\n+-----------+\n| user_name |\n+-----------+\n| \u5b59\u609f\u7a7a    |\n| \u5510\u50e7      |\n| \u732a\u516b\u6212    |\n| \u6c99\u50e7      |\n+-----------+\n4 rows in set (0.00 sec)\n\nmysql>",
            "title": "2-3\uff1a\u89e3\u51b3join\u5b50\u67e5\u8be2\u5e26\u6765\u7684\u6570\u636e\u91cd\u590d\u95ee\u9898"
        },
        {
            "location": "/jq/5/#3",
            "text": "",
            "title": "3. \u5b50\u67e5\u8be2\u5b9e\u73b0\u591a\u5217\u8fc7\u6ee4"
        },
        {
            "location": "/jq/5/#31",
            "text": "\u67e5\u8be2\u51fa\u6bcf\u4e2a\u53d6\u7ecf\u4eba\u6253\u602a\u6700\u591a\u7684\u65e5\u671f\uff0c\u5e76\u5217\u51fa\u53d6\u7ecf\u4eba\u7684\u59d3\u540d\uff0c\u6253\u602a\u6700\u591a\u7684\u65e5\u671f\u548c\u6253\u602a\u7684\u6570\u91cf",
            "title": "3.1 \u9700\u6c42"
        },
        {
            "location": "/jq/5/#32-",
            "text": "mysql> select a.user_name, b.kills from user1 a join kills b on a.id = b.user_id;\n+-----------+-------+\n| user_name | kills |\n+-----------+-------+\n| \u5b59\u609f\u7a7a    |    12 |\n| \u5b59\u609f\u7a7a    |    23 |\n| \u5510\u50e7      |     9 |\n| \u732a\u516b\u6212    |    22 |\n| \u5b59\u609f\u7a7a    |    44 |\n| \u732a\u516b\u6212    |    33 |\n| \u5510\u50e7      |    11 |\n| \u5510\u50e7      |    44 |\n| \u5510\u50e7      |    55 |\n| \u6c99\u50e7      |     2 |\n+-----------+-------+\n10 rows in set (0.00 sec)  mysql> select user_id, max(kills) as cnt from kills group by user_id;\n+---------+------+\n| user_id | cnt  |\n+---------+------+\n|       1 |   55 |\n|       2 |   44 |\n|       3 |   33 |\n|       4 |    2 |\n+---------+------+\n4 rows in set (0.00 sec)  \u5c06\u4ee5\u4e0a\u67e5\u8be2\u7684\u8868\uff0c\u8fdb\u884cjoin\u67e5\u8be2  mysql> select a.user_name, b.kills from user1 a join kills b on a.id = b.user_id\njoin (select user_id, max(kills) as cnt from kills group by user_id) c\non c.user_id = a.id and c.cnt=b.kills;\n+-----------+-------+\n| user_name | kills |\n+-----------+-------+\n| \u5b59\u609f\u7a7a    |    44 |\n| \u732a\u516b\u6212    |    33 |\n| \u5510\u50e7      |    55 |\n| \u6c99\u50e7      |     2 |\n+-----------+-------+\n4 rows in set (0.00 sec)",
            "title": "3.2 \u591a\u5217\u8fc7\u6ee4\u5b9e\u73b0-"
        },
        {
            "location": "/jq/5/#33",
            "text": "mysql> select a.user_name, b.kills from user1 a join kills b\n\non\n\na.id=b.user_id where (b.user_id, b.kills)\n\nin\n\n(select user_id, max(kills) from kills group by user_id);\n\n+-----------+-------+\n| user_name | kills |\n+-----------+-------+\n| \u5b59\u609f\u7a7a    |    44 |\n| \u732a\u516b\u6212    |    33 |\n| \u5510\u50e7      |    55 |\n| \u6c99\u50e7      |     2 |\n+-----------+-------+\n4 rows in set (0.00 sec)",
            "title": "3.3 \u591a\u5217\u8fc7\u6ee4\u5b9e\u73b0\u4e8c"
        },
        {
            "location": "/jq/6/",
            "text": "\u540c\u4e00\u5c5e\u6027\u7684\u591a\u503c\u591a\u8651\n#\n\n\n1. \u5b9a\u4e49\n#\n\n\n\n\n\u5bf9\u540c\u4e00\u4e2a\u5b57\u6bb5\uff0c\u8fdb\u884c\u591a\u503c\u7684\u67e5\u8be2\u8fc7\u6ee4\n\n\n\n\n\u8bf7\u67e5\u770b\u4e00\u4e0b\u8868\u7ed3\u6784\uff1a\n\n\n\n\n\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u9488\u5bf9\u4ee5\u4e0a\u7684\u8868\u7ed3\u6784\u7684 skill\u5c5e\u6027\uff0c\u8fdb\u884c\u591a\u503c\u8fc7\u6ee4\u3002\n\n\n2. \u9700\u6c42\n#\n\n\n\u6839\u636e\u4ee5\u4e0a\u7684\u6280\u80fd\u8868\uff0c\u770b\u5982\u4e0b\u9700\u6c42\uff1a\n\n\n\u9700\u6c42\uff1a \u5982\u4f55\u67e5\u8be2\u51fa\u540c\u65f6\u5177\u6709 \n\u53d8\u5316\n \u548c \n\u5ff5\u7ecf\n\u8fd9\u4e24\u9879\u6280\u80fd\u7684\u53d6\u7ecf\u4eba\uff1f\n\n\n\n\n3. \u5b9e\u4f8b\n#\n\n\n3.1 \u4f7f\u7528join\u5b9e\u73b0\n#\n\n\nmysql> select a.user_name, b.skill, c.skill from user1 a\n\njoin user1_skill b on a.id=b.user_id\n\njoin user1_skill c on c.user_id = b.user_id\n\nwhere b.skill = '\u5ff5\u7ecf' and c.skill = '\u53d8\u5316';\n\n+-----------+--------+--------+\n| user_name | skill  | skill  |\n+-----------+--------+--------+\n| \u5510\u50e7      | \u5ff5\u7ecf   | \u53d8\u5316   |\n| \u5b59\u609f\u7a7a    | \u5ff5\u7ecf   | \u53d8\u5316   |\n| \u732a\u516b\u6212    | \u5ff5\u7ecf   | \u53d8\u5316   |\n+-----------+--------+--------+\n3 rows in set (0.00 sec)",
            "title": "\u540c\u4e00\u5c5e\u6027\u7684\u591a\u503c\u8fc7\u6ee4\u7684SQL\u6280\u5de7"
        },
        {
            "location": "/jq/6/#_1",
            "text": "",
            "title": "\u540c\u4e00\u5c5e\u6027\u7684\u591a\u503c\u591a\u8651"
        },
        {
            "location": "/jq/6/#1",
            "text": "\u5bf9\u540c\u4e00\u4e2a\u5b57\u6bb5\uff0c\u8fdb\u884c\u591a\u503c\u7684\u67e5\u8be2\u8fc7\u6ee4   \u8bf7\u67e5\u770b\u4e00\u4e0b\u8868\u7ed3\u6784\uff1a   \u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u9488\u5bf9\u4ee5\u4e0a\u7684\u8868\u7ed3\u6784\u7684 skill\u5c5e\u6027\uff0c\u8fdb\u884c\u591a\u503c\u8fc7\u6ee4\u3002",
            "title": "1. \u5b9a\u4e49"
        },
        {
            "location": "/jq/6/#2",
            "text": "\u6839\u636e\u4ee5\u4e0a\u7684\u6280\u80fd\u8868\uff0c\u770b\u5982\u4e0b\u9700\u6c42\uff1a  \u9700\u6c42\uff1a \u5982\u4f55\u67e5\u8be2\u51fa\u540c\u65f6\u5177\u6709  \u53d8\u5316  \u548c  \u5ff5\u7ecf \u8fd9\u4e24\u9879\u6280\u80fd\u7684\u53d6\u7ecf\u4eba\uff1f",
            "title": "2. \u9700\u6c42"
        },
        {
            "location": "/jq/6/#3",
            "text": "",
            "title": "3. \u5b9e\u4f8b"
        },
        {
            "location": "/jq/6/#31-join",
            "text": "mysql> select a.user_name, b.skill, c.skill from user1 a\n\njoin user1_skill b on a.id=b.user_id\n\njoin user1_skill c on c.user_id = b.user_id\n\nwhere b.skill = '\u5ff5\u7ecf' and c.skill = '\u53d8\u5316';\n\n+-----------+--------+--------+\n| user_name | skill  | skill  |\n+-----------+--------+--------+\n| \u5510\u50e7      | \u5ff5\u7ecf   | \u53d8\u5316   |\n| \u5b59\u609f\u7a7a    | \u5ff5\u7ecf   | \u53d8\u5316   |\n| \u732a\u516b\u6212    | \u5ff5\u7ecf   | \u53d8\u5316   |\n+-----------+--------+--------+\n3 rows in set (0.00 sec)",
            "title": "3.1 \u4f7f\u7528join\u5b9e\u73b0"
        },
        {
            "location": "/yh/1/",
            "text": "\u670d\u52a1\u5668\u786c\u4ef6\n#\n\n\n\u64cd\u4f5c\u7cfb\u7edf\n#\n\n\n\u6570\u636e\u5e93\u5b58\u50a8\u5f15\u64ce\n#\n\n\n\n\nMyISAM: \u4e0d\u652f\u6301\u4e8b\u52a1\uff0c\u8868\u7ea7\u9501\n\n\ninnodb\uff1a\u4e8b\u52a1\u7ea7\u5b58\u50a8\u5f15\u64ce\uff0c\u5b8c\u7f8e\u652f\u6301\u884c\u7ea7\u9501\uff0c\u4e8b\u52a1ACID \u7279\u6027\n\n\n\n\n\u6570\u636e\u5e93\u53c2\u6570\u914d\u7f6e(\u91cd\u8981)\n#\n\n\n\u6570\u636e\u5e93\u7ed3\u6784\u8bbe\u8ba1\u548cSQL\u8bed\u53e5\n#",
            "title": "\u5f71\u54cd\u6570\u636e\u5e93\u6027\u80fd\u51e0\u4e2a\u65b9\u9762"
        },
        {
            "location": "/yh/1/#_1",
            "text": "",
            "title": "\u670d\u52a1\u5668\u786c\u4ef6"
        },
        {
            "location": "/yh/1/#_2",
            "text": "",
            "title": "\u64cd\u4f5c\u7cfb\u7edf"
        },
        {
            "location": "/yh/1/#_3",
            "text": "MyISAM: \u4e0d\u652f\u6301\u4e8b\u52a1\uff0c\u8868\u7ea7\u9501  innodb\uff1a\u4e8b\u52a1\u7ea7\u5b58\u50a8\u5f15\u64ce\uff0c\u5b8c\u7f8e\u652f\u6301\u884c\u7ea7\u9501\uff0c\u4e8b\u52a1ACID \u7279\u6027",
            "title": "\u6570\u636e\u5e93\u5b58\u50a8\u5f15\u64ce"
        },
        {
            "location": "/yh/1/#_4",
            "text": "",
            "title": "\u6570\u636e\u5e93\u53c2\u6570\u914d\u7f6e(\u91cd\u8981)"
        },
        {
            "location": "/yh/1/#sql",
            "text": "",
            "title": "\u6570\u636e\u5e93\u7ed3\u6784\u8bbe\u8ba1\u548cSQL\u8bed\u53e5"
        },
        {
            "location": "/yh/2/",
            "text": "1. MyiSAM \u5b58\u50a8\u5f15\u64ce\n#\n\n\n1.1 \u7279\u6027\uff1a\n#\n\n\n\n\n\u652f\u6301\u8868\u7ea7\u9501\uff1a\u5bf9\u8868\u7684\u8bfb\u5199\u64cd\u4f5c\u90fd\u4f1a\u5bf9\u8868\u8fdb\u884c\u52a0\u9501\u3002\n\n\n\u5e76\u53d1\u6027\uff1a\u5bf9\u4e8e\u8868\u7684\u63d2\u5165\u548c\u4fee\u6539\u64cd\u4f5c\uff0c\u5e76\u53d1\u6027\u4e0d\u592a\u597d\u3002\u5bf9\u8bfb\u7684\u64cd\u4f5c\u652f\u6301\u7684\u6bd4\u8f83\u597d\u3002\n\n\n\u652f\u6301\u5bf9\u8868\u7684\u57d9\u574f\u8fdb\u884c\u4fee\u590d\u3002\u6ce8\u610f\uff1a\u5bf9\u4e8e\u8868\u7684\u4fee\u590d\uff0c\u53ef\u80fd\u9020\u6210\u6570\u636e\u7684\u4e22\u5931\n\n\n\u652f\u6301\u5168\u6587\u7d22\u5f15\n\n\n\u652f\u6301\u6570\u636e\u538b\u7f29 \u3002 myisampack\u547d\u4ee4\u8fdb\u884c\u538b\u7f29\n\n\n\n\n1.2 \u9650\u5236\n#\n\n\n\n\n\u7248\u672c < 5.0 \u8868\u7684\u9ed8\u8ba4\u5927\u5c0f\u4e3a4g\n\n\n\u7248\u672c > 5.0 \u8868\u7684\u9ed8\u8ba4\u5927\u5c0f\u4e3a256TB\n\n\n\u4e0d\u652f\u6301\u4e8b\u52a1\n\n\n\n\n1.3 \u4f7f\u7528\u573a\u666f\n#\n\n\n\n\n\u975e\u4e8b\u52a1\u5e94\u7528\n\n\n\u53ea\u8bfb\u7c7b\u5e94\u7528\n\n\n\n\n2. innodb \u5b58\u50a8\u5f15\u64ce\n#\n\n\n\n\n\u7248\u672c5.5\u4e4b\u540e\u7684\u9ed8\u8ba4\u652f\u6301\u5b58\u50a8\u5f15\u64ce\n\n\n\u5b83\u662f\u4e8b\u52a1\u578b\u5f15\u64ce\uff0c\u5b8c\u5168\u652f\u6301\u4e8b\u52a1\u7684acid\u7279\u6027\n\n\n\u652f\u6301\u884c\u7ea7\u9501 \uff08\u9501\uff1a \u5171\u4eab\u9501\u548c\u72ec\u5360\u9501\uff09 \u5171\u4eab\u9501\uff1a\u8bfb\u64cd\u4f5c\u3002 \u72ec\u5360\u9501\uff1a\u5199\u64cd\u4f5c\n\n\n\u884c\u7ea7\u9501\u53ef\u4ee5\u6700\u5927\u7a0b\u5ea6\u7684\u652f\u6301\u5e76\u53d1\n\n\n\u4f7f\u7528\u8868\u7a7a\u95f4\u8fdb\u884c\u6570\u636e\u5b58\u50a8\n\n\n\u7cfb\u7edf\u8868\u7a7a\u95f4\uff1a \u7cfb\u7edf\u8868\u7a7a\u95f4\u65e0\u6cd5\u7b80\u5355\u7684\u6536\u7f29\u6587\u4ef6\u5927\u5c0f\u3002\u5b58\u5728IO\u74f6\u9888\n\n\n\u72ec\u7acb\u8868\u7a7a\u95f4\uff1a \u53ef\u4ee5\u901a\u8fc7optimize table \u547d\u4ee4\u6765\u6536\u7f29\u7cfb\u7edf\u6587\u4ef6\n               \u53ef\u4ee5\u540c\u65f6\u5411\u591a\u4e2a\u6587\u4ef6\u5237\u65b0\u6570\u636e\u3002\n\n\n\u5efa\u8bae\u4f7f\u7528\u72ec\u7acb\u8868\u7a7a\u95f4",
            "title": "\u5b58\u50a8\u5f15\u64ce"
        },
        {
            "location": "/yh/2/#1-myisam",
            "text": "",
            "title": "1. MyiSAM \u5b58\u50a8\u5f15\u64ce"
        },
        {
            "location": "/yh/2/#11",
            "text": "\u652f\u6301\u8868\u7ea7\u9501\uff1a\u5bf9\u8868\u7684\u8bfb\u5199\u64cd\u4f5c\u90fd\u4f1a\u5bf9\u8868\u8fdb\u884c\u52a0\u9501\u3002  \u5e76\u53d1\u6027\uff1a\u5bf9\u4e8e\u8868\u7684\u63d2\u5165\u548c\u4fee\u6539\u64cd\u4f5c\uff0c\u5e76\u53d1\u6027\u4e0d\u592a\u597d\u3002\u5bf9\u8bfb\u7684\u64cd\u4f5c\u652f\u6301\u7684\u6bd4\u8f83\u597d\u3002  \u652f\u6301\u5bf9\u8868\u7684\u57d9\u574f\u8fdb\u884c\u4fee\u590d\u3002\u6ce8\u610f\uff1a\u5bf9\u4e8e\u8868\u7684\u4fee\u590d\uff0c\u53ef\u80fd\u9020\u6210\u6570\u636e\u7684\u4e22\u5931  \u652f\u6301\u5168\u6587\u7d22\u5f15  \u652f\u6301\u6570\u636e\u538b\u7f29 \u3002 myisampack\u547d\u4ee4\u8fdb\u884c\u538b\u7f29",
            "title": "1.1 \u7279\u6027\uff1a"
        },
        {
            "location": "/yh/2/#12",
            "text": "\u7248\u672c < 5.0 \u8868\u7684\u9ed8\u8ba4\u5927\u5c0f\u4e3a4g  \u7248\u672c > 5.0 \u8868\u7684\u9ed8\u8ba4\u5927\u5c0f\u4e3a256TB  \u4e0d\u652f\u6301\u4e8b\u52a1",
            "title": "1.2 \u9650\u5236"
        },
        {
            "location": "/yh/2/#13",
            "text": "\u975e\u4e8b\u52a1\u5e94\u7528  \u53ea\u8bfb\u7c7b\u5e94\u7528",
            "title": "1.3 \u4f7f\u7528\u573a\u666f"
        },
        {
            "location": "/yh/2/#2-innodb",
            "text": "\u7248\u672c5.5\u4e4b\u540e\u7684\u9ed8\u8ba4\u652f\u6301\u5b58\u50a8\u5f15\u64ce  \u5b83\u662f\u4e8b\u52a1\u578b\u5f15\u64ce\uff0c\u5b8c\u5168\u652f\u6301\u4e8b\u52a1\u7684acid\u7279\u6027  \u652f\u6301\u884c\u7ea7\u9501 \uff08\u9501\uff1a \u5171\u4eab\u9501\u548c\u72ec\u5360\u9501\uff09 \u5171\u4eab\u9501\uff1a\u8bfb\u64cd\u4f5c\u3002 \u72ec\u5360\u9501\uff1a\u5199\u64cd\u4f5c  \u884c\u7ea7\u9501\u53ef\u4ee5\u6700\u5927\u7a0b\u5ea6\u7684\u652f\u6301\u5e76\u53d1  \u4f7f\u7528\u8868\u7a7a\u95f4\u8fdb\u884c\u6570\u636e\u5b58\u50a8  \u7cfb\u7edf\u8868\u7a7a\u95f4\uff1a \u7cfb\u7edf\u8868\u7a7a\u95f4\u65e0\u6cd5\u7b80\u5355\u7684\u6536\u7f29\u6587\u4ef6\u5927\u5c0f\u3002\u5b58\u5728IO\u74f6\u9888  \u72ec\u7acb\u8868\u7a7a\u95f4\uff1a \u53ef\u4ee5\u901a\u8fc7optimize table \u547d\u4ee4\u6765\u6536\u7f29\u7cfb\u7edf\u6587\u4ef6\n               \u53ef\u4ee5\u540c\u65f6\u5411\u591a\u4e2a\u6587\u4ef6\u5237\u65b0\u6570\u636e\u3002  \u5efa\u8bae\u4f7f\u7528\u72ec\u7acb\u8868\u7a7a\u95f4",
            "title": "2. innodb \u5b58\u50a8\u5f15\u64ce"
        },
        {
            "location": "/yh/3/",
            "text": "\u7d22\u5f15\u7c7b\u578b\n#\n\n\n1. B-tree\u7d22\u5f15\n#\n\n\n1.1\uff1a \u7279\u70b9\n#\n\n\n\n\n\n\n\u4ee5B+\u6811\u7684\u7ed3\u6784\u5b58\u50a8\u6570\u636e\n\n\n\n\n\u5e73\u8861\u7684\u67e5\u627e\u6811\n\n\n\u5404\u4e2a\u53f6\u5b50\u8282\u70b9\u4e4b\u95f4\uff0c\u901a\u8fc7\u6307\u9488\u8fdb\u884c\u8fde\u63a5\u7684\n\n\n\u6240\u6709\u7684\u8bb0\u5f55\u8282\u70b9\u90fd\u662f\u5b89\u88c5\u952e\u503c\u7684\u5927\u5c0f\u987a\u5e8f\u5b58\u653e\u5728\u540c\u4e00\u5c42\u53f6\u5b50\u8282\u70b9\u4e0a\u3002\n\n\n\n\n\n\n\n\nb-tree \u7d22\u5f15\u80fd\u591f\u52a0\u5feb\u6570\u636e\u7684\u67e5\u8be2\u901f\u5ea6\n\n\n\n\n\n\nb-tree \u7d22\u5f15\u66f4\u9002\u5408\u8fdb\u884c\u8303\u56f4\u67e5\u627e(\u56e0\u4e3a\u91c7\u7528\u987a\u5e8f\u7ed3\u6784\u8fdb\u884c\u5b58\u50a8\u7684)\n\n\n\n\n\n\n1.2\uff1a \u5728\u4ec0\u4e48\u60c5\u51b5\u4e0b\u53ef\u4ee5\u7528\u5230B\u6811\u7d22\u5f15\n#\n\n\n\n\n\n\n\u5168\u503c\u5339\u914d\u7684\u67e5\u8be2\n\n\n  \u6bd4\u5982\uff1a order_sn = '34523452345'\n\n\n\n\n\n\n\n\n\n\u5339\u914d\u6700\u5de6\u524d\u7f00\u7684\u67e5\u8be2\n\n\n\n\n\n\n-\u5339\u914d\u5217\u524d\u7f00\u67e5\u8be2\n\n\n  \u6bd4\u5982\uff1a order_sn like '34345%'\n\n\n\n\n\n\n\n\n\n\u5339\u914d\u8303\u56f4\u503c\u7684\u67e5\u8be2\n\n\n  \u6bd4\u5982\uff1a order_sn > '2342143'\n\n\n\n\n\n\n\n\n\n\u7cbe\u786e\u5339\u914d\u5de6\u524d\u5217\u5e76\u8303\u56f4\u5339\u914d\u53e6\u5916\u4e00\u5217\n\n\n\n\n\n\n\u53ea\u8bbf\u95ee\u7d22\u5f15\u7684\u67e5\u8be2\n\n\n\n\n\n\n1.3 \u4f7f\u7528\u9650\u5236\n#\n\n\n\n\n\u5982\u679c\u4e0d\u662f\u6309\u7167\u7d22\u5f15\u6700\u5de6\u5217\u5f00\u59cb\u67e5\u627e\uff0c\u5219\u65e0\u6cd5\u4f7f\u7528\u7d22\u5f15\n\n\n\u4f7f\u7528\u7d22\u5f15\u65f6\u4e0d\u80fd\u8df3\u8fc7\u7d22\u5f15\u4e2d\u7684\u5217\n\n\nnot in \u548c <> \u64cd\u4f5c\u65e0\u6cd5\u4f7f\u7528\u7d22\u5f15\n\n\n\u5982\u679c\u67e5\u8be2\u4e2d\u6709\u67d0\u4e2a\u5217\u7684\u8303\u56f4\u67e5\u8be2\uff0c\u5219\u5176\u53f3\u8fb9\u6240\u6709\u5217\u90fd\u65e0\u6cd5\u4f7f\u7528\u7d22\u5f15\n\n\n\n\n2. Hash \u7d22\u5f15\n#\n\n\n2.1: \u7279\u70b9\n#\n\n\n\n\nhash \u7d22\u5f15\u662f\u57fa\u4e8ehash\u8868\u5b9e\u73b0\uff0c\u53ea\u6709\u67e5\u8be2\u6761\u4ef6\u7cbe\u786e\u5339\u914dhash\u7d22\u5f15\u4e2d\u7684\u6240\u6709\u5217\u65f6\uff0c\u624d\u80fd\u4f7f\u7528hash\u7d22\u5f15\u3002\n\n\nhash\u7d22\u5f15\u53ea\u80fd\u7528\u5728\u7b49\u503c\u67e5\u8be2\u4e2d\u3002\n\n\n\u5bf9\u4e8ehash\u7d22\u5f15\u4e2d\u7684\u6240\u6709\u5217\uff0c\u5b58\u50a8\u5f15\u64ce\u90fd\u4f1a\u4e3a\u6bcf\u4e00\u884c\u8ba1\u7b97\u4e00\u4e2ahash\u7801\uff0chash\u7d22\u5f15\u4e2d\u5b58\u50a8\u7684\u5c31\u662fhash\u7801\n\n\n\n\n2.2\uff1a\u9650\u5236\n#\n\n\n\n\nhash \u7d22\u5f15\u5fc5\u987b\u8fdb\u884c\u4e8c\u6b21\u67e5\u8be2\n\n\nhash\u7d22\u5f15\u65e0\u6cd5\u7528\u4e8e\u6392\u5e8f\uff08\u7531\u4e8e\u4f7f\u7528hash\u7801\u5b58\u50a8\uff0c\u4e0d\u662fkey-value\u5f62\u5f0f\uff0c\u6240\u4ee5\u65e0\u6cd5\u6392\u5e8f\uff09\n\n\nhash\u7d22\u5f15\u4e0d\u652f\u6301\u90e8\u5206\u7d22\u5f15\u67e5\u627e\uff0c\u4e5f\u4e0d\u652f\u6301\u8303\u56f4\u67e5\u627e\n\n\nhash\u7d22\u5f15\u4e2dhash\u7801\u7684\u8ba1\u7b97\u53ef\u80fd\u5b58\u5728hash\u51b2\u7a81\n\n\n\n\n3. \u7d22\u5f15\u4f18\u5316-1\n#\n\n\n\n\n\u7d22\u5f15\u5217\u4e0a\u4e0d\u80fd\u4f7f\u7528\u8868\u8fbe\u5f0f\u6216\u8005\u51fd\u6570\n\n\n\n\n\u4f18\u5316\u524d\uff1a\n\n\n\n\u4f18\u5316\u540e\uff1a\n\n\n\n\n\n\u5bf9\u524d\u7f00\u7d22\u5f15\u548c\u7d22\u5f15\u5217\u8fdb\u884c\u9009\u62e9\u6027\u7684\u4f7f\u7528\n    \u5728\u5bf9\u7d22\u5f15\u7684\u9009\u62e9\uff0c\u65e2\u8981\u4fdd\u8bc1\u7d22\u5f15\u5c3d\u53ef\u80fd\u7684\u5c0f\uff0c\u540c\u65f6\u9009\u62e9\u6027\u4e0d\u80fd\u592a\u5dee\u3002\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u7ecf\u5e38\u4f1a\u88ab\u4f7f\u7528\u5230\u7684\u5217\u4f18\u5148\n\n\n\u9009\u62e9\u6027\u9ad8\u7684\u5217\u4f18\u5148\n\n\n\u5bbd\u5ea6\u5c0f\u7684\u5217\u4f18\u5148\n\n\n\n\n\u8986\u76d6\u7d22\u5f15\u4f18\u5148\n\n\n      \u4ec0\u4e48\u8986\u76d6\u7d22\u5f15\uff1f\n      \u67e5\u8be2\u7d22\u5f15\u5217 \u548c where\uff0cgroup by \u7b49 \u4ece\u53e5\u4e2d\u540c\u65f6\u4e5f\u51fa\u73b0\u4e86\u7d22\u5f15\u5217\n      \u5c31\u6210\u4e3a\u8986\u76d6\u7d22\u5f15\n\n      \u65e0\u6cd5\u4f7f\u7528\u8986\u76d6\u7d22\u5f15\u7684\u60c5\u51b5\uff1a\n      \u67e5\u8be2\u4e2d\u4f7f\u7528\u592a\u591a\u7684\u5217\n      \u4f7f\u7528\u4e86\u53cc%\u7684like\u67e5\u8be2\n\n\n\n\n\n\n\n\n\n\u4f7f\u7528\u7d22\u5f15\u626b\u63cf\u6765\u4f18\u5316\u6392\u5e8f\n\n\n    \u7d22\u5f15\u7684\u5217\u987a\u5e8f\u548corder by \u5b50\u53e5\u7684\u987a\u5e8f\u5b8c\u5168\u4e00\u81f4\n    \u7d22\u5f15\u4e2d\u6240\u6709\u5217\u7684\u65b9\u5411\u548corder by \u5b50\u53e5\u5b8c\u5168\u4e00\u81f4\n    order by \u4e2d\u5b57\u6bb5\u5168\u90e8\u5728\u5173\u8054\u8868\u4e2d\u7684\u7b2c\u4e00\u5f20\u8868\u4e2d\n\n\n\n\n\n\n\n\n\n\u5229\u7528\u7d22\u5f15\u4f18\u5316\u9501\n\n\n  \u7d22\u5f15\u53ef\u4ee5\u51cf\u5c11\u9501\u5b9a\u7684\u884c\u6570\n  \u7d22\u5f15\u53ef\u4ee5\u52a0\u5feb\u5904\u7406\u901f\u5ea6\uff0c\u540c\u65f6\u4e5f\u52a0\u5feb\u4e86\u9501\u7684\u91ca\u653e\n\n\n\n\n\n\n\n\n\n3. \u7d22\u5f15\u4f18\u5316-2\n#\n\n\n3-1\uff1a\u5982\u4f55\u9009\u62e9\u5408\u9002\u7684\u5217\u5efa\u7acb\u7d22\u5f15\uff1f\n#\n\n\n\n\n3-2\uff1a\u5982\u4f55\u5224\u65ad\u7d22\u5f15\u5b57\u6bb5\u7684\u79bb\u6563\u5ea6\u9ad8\uff1f\n#\n\n\n\n\n3-3\uff1a\u91cd\u590d\u7d22\u5f15\u548c\u5197\u4f59\u7d22\u5f15\u7684\u4f18\u5316\n#\n\n\n\n\n\u91cd\u590d\u7d22\u5f15\n\n\n\n\n\n\n\n\n\u5197\u4f59\u7d22\u5f15\n\n\n\n\n\n\n\n\n\u67e5\u770b\u91cd\u590d\u548c\u5197\u4f59\u7d22\u5f15\n\n\n\n\n\u5de5\u5177\u4f7f\u7528\uff1a\n\n\n\n\n\u5de5\u5177\u67e5\u627e\u91cd\u590d\u548c\u5197\u4f59\u7d22\u5f15\u7684\u8f93\u51fa\u7ed3\u679c\uff1a",
            "title": "\u7d22\u5f15\u4f18\u5316"
        },
        {
            "location": "/yh/3/#_1",
            "text": "",
            "title": "\u7d22\u5f15\u7c7b\u578b"
        },
        {
            "location": "/yh/3/#1-b-tree",
            "text": "",
            "title": "1. B-tree\u7d22\u5f15"
        },
        {
            "location": "/yh/3/#11",
            "text": "\u4ee5B+\u6811\u7684\u7ed3\u6784\u5b58\u50a8\u6570\u636e   \u5e73\u8861\u7684\u67e5\u627e\u6811  \u5404\u4e2a\u53f6\u5b50\u8282\u70b9\u4e4b\u95f4\uff0c\u901a\u8fc7\u6307\u9488\u8fdb\u884c\u8fde\u63a5\u7684  \u6240\u6709\u7684\u8bb0\u5f55\u8282\u70b9\u90fd\u662f\u5b89\u88c5\u952e\u503c\u7684\u5927\u5c0f\u987a\u5e8f\u5b58\u653e\u5728\u540c\u4e00\u5c42\u53f6\u5b50\u8282\u70b9\u4e0a\u3002     b-tree \u7d22\u5f15\u80fd\u591f\u52a0\u5feb\u6570\u636e\u7684\u67e5\u8be2\u901f\u5ea6    b-tree \u7d22\u5f15\u66f4\u9002\u5408\u8fdb\u884c\u8303\u56f4\u67e5\u627e(\u56e0\u4e3a\u91c7\u7528\u987a\u5e8f\u7ed3\u6784\u8fdb\u884c\u5b58\u50a8\u7684)",
            "title": "1.1\uff1a \u7279\u70b9"
        },
        {
            "location": "/yh/3/#12-b",
            "text": "\u5168\u503c\u5339\u914d\u7684\u67e5\u8be2    \u6bd4\u5982\uff1a order_sn = '34523452345'    \u5339\u914d\u6700\u5de6\u524d\u7f00\u7684\u67e5\u8be2    -\u5339\u914d\u5217\u524d\u7f00\u67e5\u8be2    \u6bd4\u5982\uff1a order_sn like '34345%'    \u5339\u914d\u8303\u56f4\u503c\u7684\u67e5\u8be2    \u6bd4\u5982\uff1a order_sn > '2342143'    \u7cbe\u786e\u5339\u914d\u5de6\u524d\u5217\u5e76\u8303\u56f4\u5339\u914d\u53e6\u5916\u4e00\u5217    \u53ea\u8bbf\u95ee\u7d22\u5f15\u7684\u67e5\u8be2",
            "title": "1.2\uff1a \u5728\u4ec0\u4e48\u60c5\u51b5\u4e0b\u53ef\u4ee5\u7528\u5230B\u6811\u7d22\u5f15"
        },
        {
            "location": "/yh/3/#13",
            "text": "\u5982\u679c\u4e0d\u662f\u6309\u7167\u7d22\u5f15\u6700\u5de6\u5217\u5f00\u59cb\u67e5\u627e\uff0c\u5219\u65e0\u6cd5\u4f7f\u7528\u7d22\u5f15  \u4f7f\u7528\u7d22\u5f15\u65f6\u4e0d\u80fd\u8df3\u8fc7\u7d22\u5f15\u4e2d\u7684\u5217  not in \u548c <> \u64cd\u4f5c\u65e0\u6cd5\u4f7f\u7528\u7d22\u5f15  \u5982\u679c\u67e5\u8be2\u4e2d\u6709\u67d0\u4e2a\u5217\u7684\u8303\u56f4\u67e5\u8be2\uff0c\u5219\u5176\u53f3\u8fb9\u6240\u6709\u5217\u90fd\u65e0\u6cd5\u4f7f\u7528\u7d22\u5f15",
            "title": "1.3 \u4f7f\u7528\u9650\u5236"
        },
        {
            "location": "/yh/3/#2-hash",
            "text": "",
            "title": "2. Hash \u7d22\u5f15"
        },
        {
            "location": "/yh/3/#21",
            "text": "hash \u7d22\u5f15\u662f\u57fa\u4e8ehash\u8868\u5b9e\u73b0\uff0c\u53ea\u6709\u67e5\u8be2\u6761\u4ef6\u7cbe\u786e\u5339\u914dhash\u7d22\u5f15\u4e2d\u7684\u6240\u6709\u5217\u65f6\uff0c\u624d\u80fd\u4f7f\u7528hash\u7d22\u5f15\u3002  hash\u7d22\u5f15\u53ea\u80fd\u7528\u5728\u7b49\u503c\u67e5\u8be2\u4e2d\u3002  \u5bf9\u4e8ehash\u7d22\u5f15\u4e2d\u7684\u6240\u6709\u5217\uff0c\u5b58\u50a8\u5f15\u64ce\u90fd\u4f1a\u4e3a\u6bcf\u4e00\u884c\u8ba1\u7b97\u4e00\u4e2ahash\u7801\uff0chash\u7d22\u5f15\u4e2d\u5b58\u50a8\u7684\u5c31\u662fhash\u7801",
            "title": "2.1: \u7279\u70b9"
        },
        {
            "location": "/yh/3/#22",
            "text": "hash \u7d22\u5f15\u5fc5\u987b\u8fdb\u884c\u4e8c\u6b21\u67e5\u8be2  hash\u7d22\u5f15\u65e0\u6cd5\u7528\u4e8e\u6392\u5e8f\uff08\u7531\u4e8e\u4f7f\u7528hash\u7801\u5b58\u50a8\uff0c\u4e0d\u662fkey-value\u5f62\u5f0f\uff0c\u6240\u4ee5\u65e0\u6cd5\u6392\u5e8f\uff09  hash\u7d22\u5f15\u4e0d\u652f\u6301\u90e8\u5206\u7d22\u5f15\u67e5\u627e\uff0c\u4e5f\u4e0d\u652f\u6301\u8303\u56f4\u67e5\u627e  hash\u7d22\u5f15\u4e2dhash\u7801\u7684\u8ba1\u7b97\u53ef\u80fd\u5b58\u5728hash\u51b2\u7a81",
            "title": "2.2\uff1a\u9650\u5236"
        },
        {
            "location": "/yh/3/#3-1",
            "text": "\u7d22\u5f15\u5217\u4e0a\u4e0d\u80fd\u4f7f\u7528\u8868\u8fbe\u5f0f\u6216\u8005\u51fd\u6570   \u4f18\u5316\u524d\uff1a  \u4f18\u5316\u540e\uff1a   \u5bf9\u524d\u7f00\u7d22\u5f15\u548c\u7d22\u5f15\u5217\u8fdb\u884c\u9009\u62e9\u6027\u7684\u4f7f\u7528     \u5728\u5bf9\u7d22\u5f15\u7684\u9009\u62e9\uff0c\u65e2\u8981\u4fdd\u8bc1\u7d22\u5f15\u5c3d\u53ef\u80fd\u7684\u5c0f\uff0c\u540c\u65f6\u9009\u62e9\u6027\u4e0d\u80fd\u592a\u5dee\u3002      \u7ecf\u5e38\u4f1a\u88ab\u4f7f\u7528\u5230\u7684\u5217\u4f18\u5148  \u9009\u62e9\u6027\u9ad8\u7684\u5217\u4f18\u5148  \u5bbd\u5ea6\u5c0f\u7684\u5217\u4f18\u5148   \u8986\u76d6\u7d22\u5f15\u4f18\u5148        \u4ec0\u4e48\u8986\u76d6\u7d22\u5f15\uff1f\n      \u67e5\u8be2\u7d22\u5f15\u5217 \u548c where\uff0cgroup by \u7b49 \u4ece\u53e5\u4e2d\u540c\u65f6\u4e5f\u51fa\u73b0\u4e86\u7d22\u5f15\u5217\n      \u5c31\u6210\u4e3a\u8986\u76d6\u7d22\u5f15\n\n      \u65e0\u6cd5\u4f7f\u7528\u8986\u76d6\u7d22\u5f15\u7684\u60c5\u51b5\uff1a\n      \u67e5\u8be2\u4e2d\u4f7f\u7528\u592a\u591a\u7684\u5217\n      \u4f7f\u7528\u4e86\u53cc%\u7684like\u67e5\u8be2    \u4f7f\u7528\u7d22\u5f15\u626b\u63cf\u6765\u4f18\u5316\u6392\u5e8f      \u7d22\u5f15\u7684\u5217\u987a\u5e8f\u548corder by \u5b50\u53e5\u7684\u987a\u5e8f\u5b8c\u5168\u4e00\u81f4\n    \u7d22\u5f15\u4e2d\u6240\u6709\u5217\u7684\u65b9\u5411\u548corder by \u5b50\u53e5\u5b8c\u5168\u4e00\u81f4\n    order by \u4e2d\u5b57\u6bb5\u5168\u90e8\u5728\u5173\u8054\u8868\u4e2d\u7684\u7b2c\u4e00\u5f20\u8868\u4e2d    \u5229\u7528\u7d22\u5f15\u4f18\u5316\u9501    \u7d22\u5f15\u53ef\u4ee5\u51cf\u5c11\u9501\u5b9a\u7684\u884c\u6570\n  \u7d22\u5f15\u53ef\u4ee5\u52a0\u5feb\u5904\u7406\u901f\u5ea6\uff0c\u540c\u65f6\u4e5f\u52a0\u5feb\u4e86\u9501\u7684\u91ca\u653e",
            "title": "3. \u7d22\u5f15\u4f18\u5316-1"
        },
        {
            "location": "/yh/3/#3-2",
            "text": "",
            "title": "3. \u7d22\u5f15\u4f18\u5316-2"
        },
        {
            "location": "/yh/3/#3-1_1",
            "text": "",
            "title": "3-1\uff1a\u5982\u4f55\u9009\u62e9\u5408\u9002\u7684\u5217\u5efa\u7acb\u7d22\u5f15\uff1f"
        },
        {
            "location": "/yh/3/#3-2_1",
            "text": "",
            "title": "3-2\uff1a\u5982\u4f55\u5224\u65ad\u7d22\u5f15\u5b57\u6bb5\u7684\u79bb\u6563\u5ea6\u9ad8\uff1f"
        },
        {
            "location": "/yh/3/#3-3",
            "text": "\u91cd\u590d\u7d22\u5f15     \u5197\u4f59\u7d22\u5f15     \u67e5\u770b\u91cd\u590d\u548c\u5197\u4f59\u7d22\u5f15   \u5de5\u5177\u4f7f\u7528\uff1a   \u5de5\u5177\u67e5\u627e\u91cd\u590d\u548c\u5197\u4f59\u7d22\u5f15\u7684\u8f93\u51fa\u7ed3\u679c\uff1a",
            "title": "3-3\uff1a\u91cd\u590d\u7d22\u5f15\u548c\u5197\u4f59\u7d22\u5f15\u7684\u4f18\u5316"
        },
        {
            "location": "/yh/4/",
            "text": "1. count()\u548c max()\u7684\u51fd\u6570\u4f18\u5316\n#\n\n\n1-1:max()\u51fd\u6570\u4f18\u5316\n#\n\n\n\n\n\n\n\n\n\u5728\u67e5\u8be2\u8fc7\u7a0b\u4e2d\uff0c\u6211\u4eec\u53d1\u73b0sql\u6267\u884c\u8ba1\u5212\u4e2d\uff0ctype=all \u4f7f\u7528\u4e86\u8868\u626b\u63cf\u7684\u64cd\u4f5c\u3002\n\n\n\u6ca1\u6709\u4f7f\u7528\u5230\u7d22\u5f15\u3002\n\n\n\n\n\u5982\u4f55\u4f18\u5316\uff1f\n\n\n\u9700\u8981\u5728max()\u51fd\u6570\u4e2d\u7684\u5173\u952e\u5b57\u6bb5\uff0c\u521b\u5efa\u7d22\u5f15\u3002\n\n\n\n\n\u67e5\u770b\u6dfb\u52a0\u7d22\u5f15\u4e4b\u540e\u7684sql\u67e5\u8be2\u8ba1\u5212\n\n\n\n\n1-2.count()\u51fd\u6570\u7684\u4f18\u5316\n#\n\n\n\n\n2.1\uff1a count(*) \u548c count(cloumn)\u533a\u522b\uff1a\n#\n\n\n      count(*): \u4f1a\u7edf\u8ba1\u51fa\u503c\u4e3a\u7a7a\u884c\n      count(cloumn)\uff1a \u8fc7\u6ee4\u5230\u503c\u4e3a\u7a7a\u7684\u884c\n\n\n\n\n\n2. \u5b50\u67e5\u8be2\u4f18\u5316\n#\n\n\n2-1:\u5b50\u67e5\u8be2\u4f18\u5316\n#\n\n\n\u5b50\u67e5\u8be2\u4f18\u5316\uff0c\u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u4f18\u5316\u4e3ajoin\u67e5\u8be2\u3002\n\n\n\n\n2-2: \u5b9e\u4f8b\u6f14\u793a\n#\n\n\n\u4f18\u5316\u524d\uff1a\n\n\n\n\n\u4f18\u5316\u540e\uff1a\n\n\n\n\n\u6ce8\u610f\n\uff1a \u4f7f\u7528distinct\u5173\u952e\u5b57\u53bb\u91cd\u590d\n\n\n3.\u4f18\u5316group by\u67e5\u8be2\n#\n\n\n3.1 \u4f18\u5316\u524d\u7684sql\n#\n\n\n\n\n\n\n\u5728\u5173\u8054\u67e5\u8be2\u4e2d\uff0c\u4f7f\u7528group by\u7684\u7f3a\u9677\uff1a\n\n\n\n\n\u5728\u67e5\u8be2\u8fc7\u7a0b\uff0c\u4f1a\u521b\u5efa\u4e00\u4e2a\u5173\u8054\u7684\u4e34\u65f6\u8868\u548c\u6587\u4ef6\u6392\u5e8f\u7684\u65b9\u5f0f\u8fdb\u884c\u67e5\u8be2\u7684\u3002\n\n\n\n\n3.2 \u4f18\u5316\u540e\u7684sql\n#\n\n\n\n\n4. limit \u67e5\u8be2\u4f18\u5316\n#\n\n\n4-1: \u4f18\u5316\u524d\u7684sql\n#\n\n\n\n\n\n\n4-2: \u4f18\u5316\u540e\u7684sql\n#\n\n\n\u4f7f\u7528\u7d22\u5f15\u6216\u8005\u4e3b\u952e\u8fdb\u884corder by\u64cd\u4f5c\uff1a\n\n\n\n\n\u4f18\u5316\u4e4b\u540e\u7684\u67e5\u8be2\u8ba1\u5212\uff1a",
            "title": "SQL\u67e5\u8be2\u4f18\u5316"
        },
        {
            "location": "/yh/4/#1-count-max",
            "text": "",
            "title": "1. count()\u548c max()\u7684\u51fd\u6570\u4f18\u5316"
        },
        {
            "location": "/yh/4/#1-1max",
            "text": "\u5728\u67e5\u8be2\u8fc7\u7a0b\u4e2d\uff0c\u6211\u4eec\u53d1\u73b0sql\u6267\u884c\u8ba1\u5212\u4e2d\uff0ctype=all \u4f7f\u7528\u4e86\u8868\u626b\u63cf\u7684\u64cd\u4f5c\u3002  \u6ca1\u6709\u4f7f\u7528\u5230\u7d22\u5f15\u3002   \u5982\u4f55\u4f18\u5316\uff1f  \u9700\u8981\u5728max()\u51fd\u6570\u4e2d\u7684\u5173\u952e\u5b57\u6bb5\uff0c\u521b\u5efa\u7d22\u5f15\u3002   \u67e5\u770b\u6dfb\u52a0\u7d22\u5f15\u4e4b\u540e\u7684sql\u67e5\u8be2\u8ba1\u5212",
            "title": "1-1:max()\u51fd\u6570\u4f18\u5316"
        },
        {
            "location": "/yh/4/#1-2count",
            "text": "",
            "title": "1-2.count()\u51fd\u6570\u7684\u4f18\u5316"
        },
        {
            "location": "/yh/4/#21-count-countcloumn",
            "text": "count(*): \u4f1a\u7edf\u8ba1\u51fa\u503c\u4e3a\u7a7a\u884c\n      count(cloumn)\uff1a \u8fc7\u6ee4\u5230\u503c\u4e3a\u7a7a\u7684\u884c",
            "title": "2.1\uff1a count(*) \u548c count(cloumn)\u533a\u522b\uff1a"
        },
        {
            "location": "/yh/4/#2",
            "text": "",
            "title": "2. \u5b50\u67e5\u8be2\u4f18\u5316"
        },
        {
            "location": "/yh/4/#2-1",
            "text": "\u5b50\u67e5\u8be2\u4f18\u5316\uff0c\u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u4f18\u5316\u4e3ajoin\u67e5\u8be2\u3002",
            "title": "2-1:\u5b50\u67e5\u8be2\u4f18\u5316"
        },
        {
            "location": "/yh/4/#2-2",
            "text": "\u4f18\u5316\u524d\uff1a   \u4f18\u5316\u540e\uff1a   \u6ce8\u610f \uff1a \u4f7f\u7528distinct\u5173\u952e\u5b57\u53bb\u91cd\u590d",
            "title": "2-2: \u5b9e\u4f8b\u6f14\u793a"
        },
        {
            "location": "/yh/4/#3group-by",
            "text": "",
            "title": "3.\u4f18\u5316group by\u67e5\u8be2"
        },
        {
            "location": "/yh/4/#31-sql",
            "text": "\u5728\u5173\u8054\u67e5\u8be2\u4e2d\uff0c\u4f7f\u7528group by\u7684\u7f3a\u9677\uff1a   \u5728\u67e5\u8be2\u8fc7\u7a0b\uff0c\u4f1a\u521b\u5efa\u4e00\u4e2a\u5173\u8054\u7684\u4e34\u65f6\u8868\u548c\u6587\u4ef6\u6392\u5e8f\u7684\u65b9\u5f0f\u8fdb\u884c\u67e5\u8be2\u7684\u3002",
            "title": "3.1 \u4f18\u5316\u524d\u7684sql"
        },
        {
            "location": "/yh/4/#32-sql",
            "text": "",
            "title": "3.2 \u4f18\u5316\u540e\u7684sql"
        },
        {
            "location": "/yh/4/#4-limit",
            "text": "",
            "title": "4. limit \u67e5\u8be2\u4f18\u5316"
        },
        {
            "location": "/yh/4/#4-1-sql",
            "text": "",
            "title": "4-1: \u4f18\u5316\u524d\u7684sql"
        },
        {
            "location": "/yh/4/#4-2-sql",
            "text": "\u4f7f\u7528\u7d22\u5f15\u6216\u8005\u4e3b\u952e\u8fdb\u884corder by\u64cd\u4f5c\uff1a   \u4f18\u5316\u4e4b\u540e\u7684\u67e5\u8be2\u8ba1\u5212\uff1a",
            "title": "4-2: \u4f18\u5316\u540e\u7684sql"
        },
        {
            "location": "/yh/5/",
            "text": "1. \u8868\u7684\u8303\u5f0f\u4f18\u5316\n#\n\n\n1.1 \u4e86\u89e3\u8868\u7684\u7b2c\u4e09\u8303\u5f0f\n#\n\n\n\n\n1.2 \u6807\u51c6\u7684\u8868\u7684\u7b2c\u4e09\u8303\u5f0f\n#\n\n\n\n\n1.3 \u8303\u5f0f\u8868\u7684\u4f18\u70b9\u548c\u7f3a\u9677\n#\n\n\n\n\n\u4f18\u70b9\uff1a \u51cf\u5c11\u8868\u7684\u5b57\u6bb5\u5197\u4f59\n\u7f3a\u9677\uff1a\u7531\u4e8e\u4f1a\u5efa\u7acb\u591a\u4e2a\u5173\u8054\u8868\uff0c\u4f1a\u5f71\u54cd\u67e5\u8be2\u6548\u7387\u3002\n\n\n\n\n2. \u8868\u7684\u53cd\u8303\u5f0f\u4f18\u5316\n#\n\n\n2.1 \u4ec0\u4e48\u662f\u53cd\u8303\u5f0f\uff1f\n#\n\n\n\n\n\n\n3\uff0c \u8868\u7684\u5782\u76f4\u62c6\u5206\n#\n\n\n3.1 \u8868\u7684\u5782\u76f4\u62c6\u5206\u9075\u5faa\u7684\u89c4\u5219\n#\n\n\n\n\n3.2 \u5b9e\u4f8b\n#\n\n\n\n\n\u5c06title, description \u62c6\u5206\u6210\u4e00\u4e2a\u8868",
            "title": "\u5206\u5e93\u5206\u8868"
        },
        {
            "location": "/yh/5/#1",
            "text": "",
            "title": "1. \u8868\u7684\u8303\u5f0f\u4f18\u5316"
        },
        {
            "location": "/yh/5/#11",
            "text": "",
            "title": "1.1 \u4e86\u89e3\u8868\u7684\u7b2c\u4e09\u8303\u5f0f"
        },
        {
            "location": "/yh/5/#12",
            "text": "",
            "title": "1.2 \u6807\u51c6\u7684\u8868\u7684\u7b2c\u4e09\u8303\u5f0f"
        },
        {
            "location": "/yh/5/#13",
            "text": "\u4f18\u70b9\uff1a \u51cf\u5c11\u8868\u7684\u5b57\u6bb5\u5197\u4f59\n\u7f3a\u9677\uff1a\u7531\u4e8e\u4f1a\u5efa\u7acb\u591a\u4e2a\u5173\u8054\u8868\uff0c\u4f1a\u5f71\u54cd\u67e5\u8be2\u6548\u7387\u3002",
            "title": "1.3 \u8303\u5f0f\u8868\u7684\u4f18\u70b9\u548c\u7f3a\u9677"
        },
        {
            "location": "/yh/5/#2",
            "text": "",
            "title": "2. \u8868\u7684\u53cd\u8303\u5f0f\u4f18\u5316"
        },
        {
            "location": "/yh/5/#21",
            "text": "",
            "title": "2.1 \u4ec0\u4e48\u662f\u53cd\u8303\u5f0f\uff1f"
        },
        {
            "location": "/yh/5/#3",
            "text": "",
            "title": "3\uff0c \u8868\u7684\u5782\u76f4\u62c6\u5206"
        },
        {
            "location": "/yh/5/#31",
            "text": "",
            "title": "3.1 \u8868\u7684\u5782\u76f4\u62c6\u5206\u9075\u5faa\u7684\u89c4\u5219"
        },
        {
            "location": "/yh/5/#32",
            "text": "\u5c06title, description \u62c6\u5206\u6210\u4e00\u4e2a\u8868",
            "title": "3.2 \u5b9e\u4f8b"
        },
        {
            "location": "/yh/7/",
            "text": "1. \u6162\u67e5\u8be2\u65e5\u5fd7\u5206\u6790\n#\n\n\n1 \u5f00\u542f\u6162\u67e5\u8be2\u65e5\u5fd7\n#\n\n\n1.1 \u53c2\u6570\u8bf4\u660e\uff1a\n#\n\n\n\u5f00\u542f\u6162\u67e5\u8be2\u65e5\u5fd7\u76f8\u5173\u53c2\u6570\u8bf4\u660e\uff1a\n\n\n\n\n\n\nslow_query_log \u542f\u52a8\u505c\u6b62\u8bb0\u5f55\u6162\u67e5\u65e5\u5fd7\n2.show_query_log_file  \u6307\u5b9a\u6162\u67e5\u65e5\u5fd7\u7684\u5b58\u50a8\u8def\u5f84\u53ca\u6587\u4ef6\n\n\nlong_query_time \u6307\u5b9a\u8bb0\u5f55\u6162\u67e5\u65e5\u5fd7sql\u6267\u884c\u65f6\u95f4\u7684\u9608\u503c\n\n\nlog_queries_not_using_indexes \u662f\u5426\u8bb0\u5f55\u672a\u4f7f\u7528\u7d22\u5f15sql  on \u5f00\u542f  off \u5173\u95ed\n\n\n\n\n\n\n1.2\uff1a\u6f14\u793a\n#\n\n\n# \u67e5\u770b\u7cfb\u7edf\u53d8\u91cfslow_query_log \u5f00\u542f\u60c5\u51b5.\u9ed8\u8ba4\u672a\u5f00\u542f\nmysql> show variables like 'slow_query_log';\n+----------------+-------+\n| Variable_name  | Value |\n+----------------+-------+\n| slow_query_log | OFF   |\n+----------------+-------+\n1 row in set (0.00 sec)\n\nmysql> set global slow_query_log=on;\nQuery OK, 0 rows affected (0.00 sec)\n\nmysql> set global log_queries_not_using_indexes=on;\nQuery OK, 0 rows affected (0.00 sec)\n\nmysql> set global long_query_time=0.01;\nQuery OK, 0 rows affected (0.00 sec)\n\nmysql> set global slow_query_log_file='/var/lib/mysql/mysql-slow.log';\nQuery OK, 0 rows affected (0.00 sec)\n\n\n# \u67e5\u770b\u53d8\u91cf\u8bbe\u7f6e\u60c5\u51b5\nmysql> show variables like 'slow%';\n+---------------------+-------------------------------+\n| Variable_name       | Value                         |\n+---------------------+-------------------------------+\n| slow_launch_time    | 2                             |\n| slow_query_log      | ON                            |\n| slow_query_log_file | /var/lib/mysql/mysql-slow.log |\n+---------------------+-------------------------------+\n3 rows in set (0.00 sec)\n\n\n\n\n\n1.3 \u6162\u67e5\u8be2\u65e5\u5fd7\u683c\u5f0f\uff1a\n#\n\n\n\n\n2. pt-query-digest \u6162\u67e5\u8be2\u5de5\u5177\u4f7f\u7528\n#\n\n\n2.1 \u53c2\u6570\u8bf4\u660e\n#\n\n\n\n\npt-query-digest slow-log :\n\n\npt-query-digest slow-log\nh=127.0.0.1,\nD=db_test,\np=ywf,\nP=3306,\nu=root,\nt=query_review\n--create-reviewtable\n--review-history t=hostname_slow\n\n\n\n\n2.2 \u5b9e\u4f8b\n#\n\n\n\n\n\n\n\u5b89\u88c5\u5de5\u5177\n\n\nsudo apt install percona-toolkit\n\n\n\n\n\n\n\n\n\n\u4f7f\u7528\n\n\n\n\n\n\nywf\n@\nywf-VirtualBox\n:~$\n \npt-query-digest\n \n/\nhome\n/\nywf\n/\nmysql\n/\nslow-log\n.\nlog\n \n|\n \nmore\n;\n\n\n\n\n\n\n\n\n\u8f93\u51fa\u683c\u5f0f\u8bf4\u660e\n\n\n\n\n\n\n\n\n\n\n\n\n\u53d1\u73b0\u6162\u67e5\u8be2\u6709\u95ee\u9898\u7684sql\n\n\n\n\n\n\n\n\n\u5206\u6790mysql\u67e5\u8be2\u8ba1\u5212\n\n\n\n\nexplain\u547d\u4ee4\uff0c\u67e5\u770b\u67e5\u8be2\u8ba1\u5212\u3002\n\n\n\u5982\uff1a\n\n\n\n\nexplain\u547d\u4ee4\u8fd4\u56de\u7ed3\u679c\u8bf4\u660e",
            "title": "\u6162\u67e5\u8be2\u7684\u5f00\u542f\u548c\u5206\u6790"
        },
        {
            "location": "/yh/7/#1",
            "text": "",
            "title": "1. \u6162\u67e5\u8be2\u65e5\u5fd7\u5206\u6790"
        },
        {
            "location": "/yh/7/#1_1",
            "text": "",
            "title": "1 \u5f00\u542f\u6162\u67e5\u8be2\u65e5\u5fd7"
        },
        {
            "location": "/yh/7/#11",
            "text": "\u5f00\u542f\u6162\u67e5\u8be2\u65e5\u5fd7\u76f8\u5173\u53c2\u6570\u8bf4\u660e\uff1a    slow_query_log \u542f\u52a8\u505c\u6b62\u8bb0\u5f55\u6162\u67e5\u65e5\u5fd7\n2.show_query_log_file  \u6307\u5b9a\u6162\u67e5\u65e5\u5fd7\u7684\u5b58\u50a8\u8def\u5f84\u53ca\u6587\u4ef6  long_query_time \u6307\u5b9a\u8bb0\u5f55\u6162\u67e5\u65e5\u5fd7sql\u6267\u884c\u65f6\u95f4\u7684\u9608\u503c  log_queries_not_using_indexes \u662f\u5426\u8bb0\u5f55\u672a\u4f7f\u7528\u7d22\u5f15sql  on \u5f00\u542f  off \u5173\u95ed",
            "title": "1.1 \u53c2\u6570\u8bf4\u660e\uff1a"
        },
        {
            "location": "/yh/7/#12",
            "text": "# \u67e5\u770b\u7cfb\u7edf\u53d8\u91cfslow_query_log \u5f00\u542f\u60c5\u51b5.\u9ed8\u8ba4\u672a\u5f00\u542f\nmysql> show variables like 'slow_query_log';\n+----------------+-------+\n| Variable_name  | Value |\n+----------------+-------+\n| slow_query_log | OFF   |\n+----------------+-------+\n1 row in set (0.00 sec)\n\nmysql> set global slow_query_log=on;\nQuery OK, 0 rows affected (0.00 sec)\n\nmysql> set global log_queries_not_using_indexes=on;\nQuery OK, 0 rows affected (0.00 sec)\n\nmysql> set global long_query_time=0.01;\nQuery OK, 0 rows affected (0.00 sec)\n\nmysql> set global slow_query_log_file='/var/lib/mysql/mysql-slow.log';\nQuery OK, 0 rows affected (0.00 sec)\n\n\n# \u67e5\u770b\u53d8\u91cf\u8bbe\u7f6e\u60c5\u51b5\nmysql> show variables like 'slow%';\n+---------------------+-------------------------------+\n| Variable_name       | Value                         |\n+---------------------+-------------------------------+\n| slow_launch_time    | 2                             |\n| slow_query_log      | ON                            |\n| slow_query_log_file | /var/lib/mysql/mysql-slow.log |\n+---------------------+-------------------------------+\n3 rows in set (0.00 sec)",
            "title": "1.2\uff1a\u6f14\u793a"
        },
        {
            "location": "/yh/7/#13",
            "text": "",
            "title": "1.3 \u6162\u67e5\u8be2\u65e5\u5fd7\u683c\u5f0f\uff1a"
        },
        {
            "location": "/yh/7/#2-pt-query-digest",
            "text": "",
            "title": "2. pt-query-digest \u6162\u67e5\u8be2\u5de5\u5177\u4f7f\u7528"
        },
        {
            "location": "/yh/7/#21",
            "text": "pt-query-digest slow-log :  pt-query-digest slow-log\nh=127.0.0.1,\nD=db_test,\np=ywf,\nP=3306,\nu=root,\nt=query_review\n--create-reviewtable\n--review-history t=hostname_slow",
            "title": "2.1 \u53c2\u6570\u8bf4\u660e"
        },
        {
            "location": "/yh/7/#22",
            "text": "\u5b89\u88c5\u5de5\u5177  sudo apt install percona-toolkit    \u4f7f\u7528    ywf @ ywf-VirtualBox :~$   pt-query-digest   / home / ywf / mysql / slow-log . log   |   more ;    \u8f93\u51fa\u683c\u5f0f\u8bf4\u660e       \u53d1\u73b0\u6162\u67e5\u8be2\u6709\u95ee\u9898\u7684sql     \u5206\u6790mysql\u67e5\u8be2\u8ba1\u5212   explain\u547d\u4ee4\uff0c\u67e5\u770b\u67e5\u8be2\u8ba1\u5212\u3002  \u5982\uff1a   explain\u547d\u4ee4\u8fd4\u56de\u7ed3\u679c\u8bf4\u660e",
            "title": "2.2 \u5b9e\u4f8b"
        }
    ]
}